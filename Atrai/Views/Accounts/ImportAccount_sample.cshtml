@model Atrai.Model.Core.Entity.Acc_VoucherTypeModel
@{
    ViewData["Title"] = "Voucher Type";
    Layout = "~/Views/Shared/_adminLayout.cshtml";
}

<link href="~/admin_theme_gtr/assets/css/multistep-custom.css" rel="stylesheet"/>

<div class="mt-5 card">
    <div class="card-body">
         <div class="row d-flex justify-content-center align-items-center">
              <div class="col-md-10 offse-md-1">
                  <form action="#" class="form" id="forms" onsubmit="event.preventDefault()">
                      <div class="progressbar">
                            <div class="progress" id="progress"></div>
        
                            <div class="progress-step progress-step-active" data-title="Upload"></div>
                            <div class="progress-step" data-title="Map Data"></div>
                            <div class="progress-step" data-title="Import"></div>
                      </div>
                      <div class="step-forms step-forms-active">
                          <div class="row">
                                 <div class="col-md-6">
                                   <div class="bg-style" >
                                        <h6>Select a CSV or Excel fie to upload</h6>
                                        <p>
                                                    
                                             <div class="input-group my-4">
                                                 <input type="file" class="form-control" id="inputGroupFile03">
                                                 <label class="input-group-text ms-3 bg-white" for="inputGroupFile03">Browse</label>

                                             </div>
                                                                     
                                         </p>
                                            
                               
                                        <a href="#">Download a sample file</a>
                                    </div>
                                  </div>
                               
                                 <div class="col-md-6">
                                    <div class=" bg-style">
                                             <h6>Select Google Sheet</h6>
                                             <div class="input-group my-4">
                                                  <input type="file" class="form-control" id="inputGroupFile02">
                                                  <label class="input-group-text ms-3 bg-white" for="inputGroupFile02">Connect</label>
                                              </div>
                                    
                                            <a href="#">Preview a sample</a>
                                     </div>
                                </div>
                          </div>
                          
                          <div class="row">
                             <div class="col-md-11">
     
            </div>
                             <div class="col-md-1 mt-5 pt-5">
                                <a href="#" class="btn btn-next btn-primary">Next</a>
                             </div>
                          </div>
                      </div>
                      <div class="step-forms">
                           <h6>Map your fields to Atrai fields</h6>
                           <div class="row">
                              <p class="mt-3 fw-bold">Atrai  field</p>
                               <div class="col-md-2">
                                       <div class="mb-3">
                                           <input type="text" class="form-control" value="Account Code">
                                       </div>

                               </div>
                                <div class="col-md-3">
                                    <div class="row">
                                          <div class="col-md-9">
                                             <select class="form-select mb-3">
                                                  <option selected>Account Code</option>
                                                  <option value="1">One</option>
                                                  <option value="2">Two</option>
                                                  <option value="3">Three</option>
                                                </select>
                                         </div>
                                         <div class="col-md-3">
                                              <div class="form-check">
                                                  <input class="form-check-input w-35" type="checkbox" value="" id="" checked >
                                                </div>
                                          </div>
                                     </div>
                                 </div>
                           </div>
        
                        <div class="row">

                            <div class="col-md-2">
                                  <div class="mb-3">
                                        <input type="text" class="form-control" value="Account Catagory">
                                   </div>

                            </div>
                            <div class="col-md-3">
                                <div class="row">
                                     <div class="col-md-9">
                                        <select class="form-select mb-3">
                                          <option selected>Account Catagory</option>
                                          <option value="1">One</option>
                                          <option value="2">Two</option>
                                          <option value="3">Three</option>
                                        </select>
                                     </div>
                                      <div class="col-md-3">
                                          <div class="form-check">
                                              <input class="form-check-input w-35" type="checkbox" value="" id="" checked >
                                            </div>
                                      </div>
                                 </div>

 
                            </div>
                         </div>
                        <div class="row">
                             <div class="col-md-2">
                                   <div class="mb-3">

                                      <input type="text" class="form-control" value="Account Head">
                                    </div>

                             </div>
                            <div class="col-md-3">
                                <div class="row">
                                      <div class="col-md-9">
                                          <select class="form-select mb-3">
                                              <option selected>Account Head</option>
                                              <option value="1">One</option>
                                              <option value="2">Two</option>
                                              <option value="3">Three</option>
                                            </select>
                                      </div>
                                      <div class="col-md-3">
                                                      <div class="form-check">
                                                          <input class="form-check-input w-35" type="checkbox" value="" id="" checked >
                                                        </div>
                                      </div>
                                </div>
                              </div>
                         </div>
                        <div class="row">

                  <div class="col-md-2">
                                                     <div class="mb-3">

      <input type="text" class="form-control" value="Type">
    </div>

                  </div>
                                   <div class="col-md-3">
                    <div class="row">
                          <div class="col-md-9">
                      <select class="form-select mb-3">
      <option selected>Type</option>
      <option value="1">Account#</option>
      <option value="2">Type</option>
      <option value="3">Account Catagory</option>
      <option value="4">Account Head</option>
      <option value="5">Balance</option>
    </select>
                  </div>
                                <div class="col-md-3">
                              <div class="form-check">
      <input class="form-check-input w-35" type="checkbox" value="" id="" checked >
    </div>
                          </div>
                  </div>
                  </div>
              </div>
                                         <div class="row">
                                   <div class="col-md-11">
                                <a href="#" class="btn btn-primary" id="btn-prev">Previous</a>
            </div>
            <div class="col-md-1 mt-5 pt-5">
              <a href="#" class="btn btn-next btn-primary">Next</a>
            </div>
            </div>

          </div>
          <div class="step-forms">
              <div class="row">
                  <div class="col-md-12">
                      <table class="table table-hover table-striped table-bordered border" width="100%" id="importTable">
      <thead>
        <tr>
          <th class="text-center">Type</th>
          <th>Account Code</th>
          <th>Account Category</th>
          <th>Account Head</th>
          <th>Debit</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td class="text-center">L</td>
          <td>40101</td>
          <td>Administrative Overheads</td>
          <td>Office Rent</td>
          <td>8524.00</td>
        </tr>
        <tr>
           <td class="text-center">L</td>
          <td>40102</td>
          <td>Administrative Overheads</td>
          <td>Salary Expense</td>
          <td>152.00</td>
        </tr>
        <tr>
            <td class="text-center">L</td>
          <td>40103</td>
          <td>Administrative Overheads</td>
          <td>Entertainment Expenses</td>
          <td>4541.00</td>
        </tr>
            <tr>
            <td class="text-center">L</td>
          <td>40104</td>
          <td>Sales</td>
          <td>Sales/Service Income</td>
          <td>4541.00</td>
        </tr>
      </tbody>
    </table>
                  </div>
              </div>
         
                                                 <div class="row ">
                                   <div class="col-md-11">
                                <a href="#" class="btn btn-primary" id="btn-prev">Previous</a>
            </div>
            <div class="col-md-1 mt-5 pt-5">
              <input type="submit" value="Submit" id="submit-form" class="btn btn-primary"/>
            </div>
            </div>
          </div>
        </form>
              </div>
         </div>
    </div>
</div>

@section Scripts{

    
<script type="text/javascript">
    const prevBtns = document.querySelectorAll(".btn-prev");
const nextBtns = document.querySelectorAll(".btn-next");
const progress = document.getElementById("progress");
const formSteps = document.querySelectorAll(".step-forms");
const progressSteps = document.querySelectorAll(".progress-step");


let formStepsNum = 0;

nextBtns.forEach((btn) => {
  btn.addEventListener("click", () => {
    formStepsNum++;
    updateFormSteps();
    updateProgressbar();
   
  });
});

        prevBtns.forEach((btn) => {
            btn.addEventListener("click", () => {
                // Decrement formStepsNum
                formStepsNum--;
                // Update the form steps and progress bar
                updateMinusFormSteps();
                updateProgressbar();
            });
        });

function updateFormSteps() {
  formSteps.forEach((formStep) => {
    formStep.classList.contains("step-forms-active") &&
      formStep.classList.remove("step-forms-active");
  });

  formSteps[formStepsNum].classList.add("step-forms-active");
}
        function updateMinusFormSteps() {
            formSteps.forEach((formStep) => {
                formStep.classList.contains("step-forms-active") &&
                    formStep.classList.remove("step-forms-active");
            });

            formSteps[formStepsNum].classList.add("step-forms-active");
        }

function updateProgressbar() {
  progressSteps.forEach((progressStep, idx) => {
    if (idx < formStepsNum + 1) {
      progressStep.classList.add("progress-step-active");
      
    } else {
      progressStep.classList.remove("progress-step-active");
   
    }
  });

  progressSteps.forEach((progressStep, idx) => {
    if (idx < formStepsNum) {
      
      progressStep.classList.add("progress-step-check");
    } else {
   
      progressStep.classList.remove("progress-step-check");
    }
  });
 
  const progressActive = document.querySelectorAll(".progress-step-active");

  progress.style.width =
    ((progressActive.length - 1) / (progressSteps.length - 1)) * 100 + "%";
}


document.getElementById("submit-form").addEventListener("click", function () {

    progressSteps.forEach((progressStep, idx) => {
    if (idx <= formStepsNum) {
      
      progressStep.classList.add("progress-step-check");
    } else {
   
      progressStep.classList.remove("progress-step-check");
    }
  });
  
   var forms = document.getElementById("forms");
   forms.classList.remove("form");
   forms.innerHTML = '<div class="welcome"><div class="content"><svg class="checkmark" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 52"><circle class="checkmark__circle" cx="26" cy="26" r="25" fill="none"/><path class="checkmark__check" fill="none" d="M14.1 27.2l7.1 7.2 16.7-16.8"/></svg><h2>Thanks for Import!</h2><div></div>';
});

//datatable 

$(document).ready(function () {
    $('#importTable').DataTable({
        dom: "'<'row'<'col-xs-6 float-end'><'col-xs-6'f>r>t<'row'<'col-xs-12 mt-3'i p>>",
               "language": {
                    
                    "info": "Results: _PAGE_ - _PAGES_ of _MAX_",                 
                    "infoFiltered": "(filtered from _MAX_ total records)",
                    "searchPlaceholder": "Filter by name",
                    "sSearch": '<i class="bi bi-funnel"></i>',
                    "paginate": {
                        "previous": '<i class="bi bi-chevron-left"></i>',
                        "next": '<i class="bi bi-chevron-right"></i>'
                    }
                },
    });
});


</script>
 
}