@using Microsoft.AspNetCore.Http
@inject IHttpContextAccessor HttpContextAccessor
@*@Html.AntiForgeryToken()*@
@using Atrai.Model.Core.Entity;
@using Atrai.Model.Core.Common;

@if (@HttpContextAccessor.HttpContext.Session == null)
{
    @Url.Action("Login", "Home")
    ;
}
@{
    string weburl = HttpContextAccessor.HttpContext.Session.GetString("weburl");// ViewBag.weburl;

    var comimagepath = @HttpContextAccessor.HttpContext.Session.GetString("comImagePath");
    var empimagepath = @HttpContextAccessor.HttpContext.Session.GetString("EmpImagePath");
    var UserRole = @HttpContextAccessor.HttpContext.Session.GetString("UserRole");
    var UserDesignation = @HttpContextAccessor.HttpContext.Session.GetString("UserDesignation");

}
@*@{ string UserRoleId = @HttpContextAccessor.HttpContext.Session.GetString("UserRoleId").ToString();
    }*@
<!DOCTYPE html>
<html lang="en" class="minimal-theme">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Atrai Admin Dashboard</title>
    <link rel="icon" href="~/Admin_theme_gtr/assets/images/favicon-32x32.png" type="image/png" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
    <!--plugins-->

    <link href="~/Admin_theme_gtr/assets/plugins/input-tags/css/tagsinput.css" rel="stylesheet" />
    <link href="~/Admin_theme_gtr/assets/plugins/simplebar/css/simplebar.css" rel="stylesheet" />
    <link href="~/Admin_theme_gtr/assets/plugins/fancy-file-uploader/fancy_fileupload.css" rel="stylesheet" />
    <link href="~/Admin_theme_gtr/assets/plugins/Drag-And-Drop/dist/imageuploadify.min.css" rel="stylesheet" />
    <link href="~/Admin_theme_gtr/assets/plugins/perfect-scrollbar/css/perfect-scrollbar.css" rel="stylesheet" />
    <link href="~/Admin_theme_gtr/assets/plugins/vectormap/jquery-jvectormap-2.0.2.css" rel="stylesheet" />

    <link href="~/adminela/assets/toastr/toastr.min.css" rel="stylesheet" />
    @* <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css">*@



    <!-- Bootstrap CSS -->
    @* <link href="~/Admin_theme_gtr/assets/css/bootstrap.min.css" rel="stylesheet" />*@
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
   
    @*<link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    *@
    <link rel="stylesheet" href="//code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/jquery-treegrid/0.2.0/css/jquery.treegrid.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/TableExport/3.3.5/css/tableexport.css" rel="stylesheet" />
    <link rel="stylesheet" href="~/Admin_theme_gtr/assets/plugins/bootstrap-material-datetimepicker/css/bootstrap-material-datetimepicker.min.css">
    <link href="~/Admin_theme_gtr/assets/plugins/datetimepicker/css/classic.css" rel="stylesheet" />
    <link href="~/Admin_theme_gtr/assets/plugins/datetimepicker/css/classic.time.css" rel="stylesheet" />
    <link href="~/Admin_theme_gtr/assets/plugins/datetimepicker/css/classic.date.css" rel="stylesheet" />
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/select2-bootstrap-5-theme@1.3.0/dist/select2-bootstrap-5-theme.min.css" />
    <link href="~/Admin_theme_gtr/assets/css/bootstrap-extended.css" rel="stylesheet" />



   @*datatable may be currently not use in this project comment by shahinur 31 jan 24*@
         <link href="~/Admin_theme_gtr/assets/plugins/datatable/css/dataTables.bootstrap5.min.css" rel="stylesheet" />
    <link href="https://cdn.datatables.net/select/1.4.0/css/select.dataTables.min.css" rel="stylesheet" />
    <link href="https://cdn.datatables.net/responsive/2.3.0/css/responsive.dataTables.min.css" rel="stylesheet" />
    <link href="https://cdn.datatables.net/responsive/2.3.0/css/responsive.bootstrap5.min.css" rel="stylesheet" />
    <link href="https://cdn.datatables.net/buttons/2.2.3/css/buttons.bootstrap5.min.css" rel="stylesheet" /> 
     

   
    <link type="text/css" rel="stylesheet" href="~/jsGrid/jsgrid.min.css" />
    <link type="text/css" rel="stylesheet" href="~/jsGrid/jsgrid-theme.min.css" />
    <link type="text/css" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tabulator/5.5.0/css/tabulator.min.css" />

    <link href="~/Admin_theme_gtr/assets/css/style.css" rel="stylesheet" />
    <link href="~/Admin_theme_gtr/assets/css/icons.css" rel="stylesheet">
    @*<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&display=swap" rel="stylesheet">*@
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">

    <!-- loader-->
    @*<link href="~/Admin_theme_gtr/assets/css/pace.min.css" rel="stylesheet" />*@


    <!--Theme Styles-->
    <link href="~/Admin_theme_gtr/assets/css/dark-theme.css" rel="stylesheet" />
    <link href="~/Admin_theme_gtr/assets/css/light-theme.css" rel="stylesheet" />
    <link href="~/Admin_theme_gtr/assets/css/semi-dark.css" rel="stylesheet" />
    <link href="~/admin_theme_gtr/assets/css/atrai-blue-theme.css" rel="stylesheet" />
    <link href="~/Admin_theme_gtr/assets/css/header-colors.css" rel="stylesheet" />
    <link rel="stylesheet" type="text/css" href="~/jsGrid/style.css" media="all" />

    <style>
        #megamenu .dropdown-menu.show {
            position: fixed !important;
            inset: inherit !important;
            transform: translate3d(0px, 47.6px, 0px) !important;
        }

        #megamenu .dropdown-item {
            padding: 5px 20px;
            color: Black;
            font-size: 14px;
            font-weight: 300;
        }

        #megamenu .dropdown-menu li {
            list-style: none !important;
        }

        /* .dropdown-item.active {
            background-color: #adb5bd !important;
        } */

        .disabled-link {
            pointer-events: none; /* Prevents clicking */
            color: #808080; /* Change text color to a visually muted color */
            text-decoration: none; /* Optionally remove underline */
        }


        #megamenu .dropdown-menu::before {
            bottom: 99%;
            left: 5%;
            border: solid transparent;
            content: " ";
            height: 13px;
            width: 20px;
            position: absolute;
            pointer-events: none;
            border-bottom-color: white;
            border-width: 15px;
            margin-left: -8px;
        }

        .ui-autocomplete-input {
            max-height: 150px;
            overflow-y: auto;
            /* prevent horizontal scrollbar */
            overflow-x: hidden;
            border: 1px solid #ccc;
            border-radius: 5px;
            color: #333;
            /*box-shadow: 0 3px 8px rgba(0,0,0,0.25);*/
        }

            .ui-autocomplete-input.animated {
                -webkit-animation-duration: 0.7s;
                animation-duration: 0.7s;
            }

        .loader {
            position: fixed;
            left: 0px;
            top: 0px;
            width: 100%;
            height: 100%;
            z-index: 9999;
            background: url('/assets/loading-load.gif') 50% 50% no-repeat rgb(249, 249, 249);
            opacity: .6;
        }

        .offcanvas-backdrop {
            background-color: #00000017;
        }

        .tabulator-row .tabulator-cell {
            color: black;
        }

        .hover-style:hover {
            background-color: #0d4ba485;
        }

        #searchModal .modal-dialog {
            max-width: 50%;
        }

        .dropdown-item.active {
            background-color: white!important;
        }

        .buttons-columnVisibility.active span:before {
            margin-top: 1px;
        }
    </style>

    @if (HttpContextAccessor.HttpContext.Session.GetString("AppsName") == null)
    {
        <title>@ViewBag.Title - Invoice Made Easy</title>
    }
    else
    {
        <title>@ViewBag.Title - @HttpContextAccessor.HttpContext.Session.GetString("AppsName")</title>
    }

    @if (weburl.ToLower().Contains("w2u.io"))
    {

        <!-- Meta Pixel Code -->
        <script>
            !function (f, b, e, v, n, t, s) {
                if (f.fbq) return; n = f.fbq = function () {
                    n.callMethod ?
                        n.callMethod.apply(n, arguments) : n.queue.push(arguments)
                };
                if (!f._fbq) f._fbq = n; n.push = n; n.loaded = !0; n.version = '2.0';
                n.queue = []; t = b.createElement(e); t.async = !0;
                t.src = v; s = b.getElementsByTagName(e)[0];
                s.parentNode.insertBefore(t, s)
            }(window, document, 'script',
                'https://connect.facebook.net/en_US/fbevents.js');
            fbq('init', '200487558922107');
            fbq('track', 'PageView');
        </script>

        <!-- End Meta Pixel Code -->
    }


</head>
<body>
    <!--start wrapper-->
    <div class="wrapper toggled">
        <div class="loader"></div>

        <!--start top header-->
        @if (HttpContextAccessor.HttpContext.Session.GetInt32("ComId") != 0)
        {
            <header class="top-header">
                <nav class="navbar navbar-expand">
                    <div class="mobile-toggle-icon d-xl-none">
                        <i class="bi bi-list"></i>
                    </div>
                    <div class="top-navbar d-none d-xl-block">
                        <ul class="navbar-nav align-items-center">
                            <li class="nav-item">
                                @*<a class="nav-link" href="@Url.Action("Index", "Admin")">Dashboard</a>*@
                                <span id="ComName"></span>
                            </li>
                            @*              <li class="nav-item">
                        <a class="nav-link" href="app-emailbox.html">Email</a>
                        </li>
                        <li class="nav-item">
                        <a class="nav-link" href="javascript:;">Projects</a>
                        </li>
                        <li class="nav-item d-none d-xxl-block">
                        <a class="nav-link" href="javascript:;">Events</a>
                        </li>
                        <li class="nav-item d-none d-xxl-block">
                        <a class="nav-link" href="app-to-do.html">Todo</a>
                        </li>*@
                        </ul>
                    </div>
                    
                    <div class="search-toggle-icon d-xl-none ms-auto">
                        <i class="bi bi-search"></i>
                    </div>

                    <form class="searchbar d-none d-xl-flex ms-auto">
                        <div class="position-absolute top-50 translate-middle-y search-icon ms-3" onclick="OpenSearchModal()"><i class="bi bi-search"></i></div>

                        <div class="position-absolute top-50 translate-middle-y d-block d-xl-none search-close-icon"><i class="bi bi-x-lg"></i></div>
                    </form>
                    <div id="compnaylistdata" class="nav-item d-none d-sm-block" style="font-size: 12px; border: none; min-width: 140px;">
                        @{
                            var Companys = HttpContextAccessor.HttpContext.Session.GetObject<List<SelectListItem>>("UserCompanys");
                            var comid = HttpContextAccessor.HttpContext.Session.GetInt32("ComId");
                            if (Companys != null)
                            {
                                @Html.DropDownList("company", new SelectList(Companys, "Value", "Text", comid), new { @class = "custom-select select2" })
                            }
                        }
                    </div>
                    <div class="top-navbar-right ms-3">

                        <ul class="navbar-nav align-items-center">

                            <li class="nav-item dropdown dropdown-large">

                                @if (User.Identity.IsAuthenticated == true)
                                {
                                    @if (HttpContextAccessor.HttpContext.Session.GetInt32("IsMobile") != 1)
                                    {
                                        <a class="nav-link dropdown-toggle dropdown-toggle-nocaret" href="#" data-bs-toggle="dropdown">
                                            <div class="user-setting d-flex align-items-center gap-1">
                                                @if (empimagepath != null && empimagepath != "")
                                                {
                                                    <img src="..@empimagepath" class="user-img" alt="">
                                                }
                                                else
                                                {
                                                    <img src="~/Admin_theme_gtr/assets/images/avatars/avatar-1.png" class="user-img" alt="">
                                                }
                                                <div class="user-name d-none d-sm-block" href="@Url.Action("UserProfile", "Admin")"> @User.Identity.Name </div>
                                            </div>
                                        </a>
                                        <ul class="dropdown-menu dropdown-menu-end">
                                            <li>
                                                <a class="dropdown-item" href="#">
                                                    <div class="d-flex align-items-center">
                                                        @if (empimagepath != null && empimagepath != "")
                                                        {
                                                            <img src="..@empimagepath" class="rounded-circle" width="60" height="60" alt="">
                                                        }
                                                        else
                                                        {
                                                            <img src="~/Admin_theme_gtr/assets/images/avatars/avatar-1.png" alt="" class="rounded-circle" width="60" height="60">
                                                        }
                                                        <div class="ms-3">
                                                            <h6 class="mb-0 dropdown-user-name" href="@Url.Action("UserProfile", "Admin")">@User.Identity.Name</h6>
                                                            <small class="mb-0 dropdown-user-designation text-secondary">@UserDesignation</small><br />
                                                            <small class="mb-0 dropdown-user-designation text-secondary">Role - @UserRole</small>
                                                        </div>
                                                    </div>
                                                </a>
                                            </li>
                                            <li><hr class="dropdown-divider"></li>
                                            <li>
                                                <a class="dropdown-item" href="@Url.Action("UserProfile", "Admin")">
                                                    <div class="d-flex align-items-center">
                                                        <div class="setting-icon"><i class="bi bi-person-fill"></i></div>
                                                        <div class="setting-text ms-3"><span>Profile</span></div>
                                                    </div>
                                                </a>
                                            </li>
                                            <li>
                                                <a class="dropdown-item" href="@Url.Action("ApprovalList", "Admin")">
                                                    <div class="d-flex align-items-center">
                                                        <div class="setting-icon"><i class="bi bi-gear-fill"></i></div>
                                                        <div class="setting-text ms-3"><span>Document Approval</span></div>
                                                    </div>
                                                </a>
                                            </li>
                                            <li>
                                                <a class="dropdown-item" href="@Url.Action("PurchasePackage", "License")">
                                                    <div class="d-flex align-items-center">
                                                        <div class="setting-icon"><i class="bi bi-speedometer"></i></div>
                                                        <div class="setting-text ms-3"><span>Purchase Package</span></div>
                                                    </div>
                                                </a>
                                            </li>
                                            <li>

                                                <a class="dropdown-item" href="@Url.Action("Settings", "Admin")">
                                                    <div class="d-flex align-items-center">

                                                        <div class="setting-icon"><i class="bi bi-gear-fill"></i></div>
                                                        <div class="setting-text ms-3"><span>Settings</span></div>

                                                    </div>
                                                </a>

                                            </li>
                                            <li>

                                                <a class="dropdown-item" href="@Url.Action("AccountAndSettings", "Admin")">
                                                    <div class="d-flex align-items-center">

                                                        <div class="setting-icon"><i class="bi bi-gear-fill"></i></div>
                                                        <div class="setting-text ms-3"><span>Company Settings</span></div>

                                                    </div>
                                                </a>

                                            </li>
                                            @if (!weburl.ToLower().Contains("w2u.io") && (User.IsInRole("SuperAdmin")))
                                            {
                                                <li>

                                                    <a class="dropdown-item" href="@Url.Action("Settings", "Admin")">
                                                        <div class="d-flex align-items-center">

                                                            <div class="setting-icon"><i class="bi bi-gear-fill"></i></div>
                                                            <div class="setting-text ms-3"><span>Settings</span></div>

                                                        </div>
                                                    </a>

                                                </li>
                                            }
                                            <li><hr class="dropdown-divider"></li>
                                            <li>
                                                <a class="dropdown-item" href="@Url.Action("Logout", "Home")">
                                                    <div class="d-flex align-items-center">
                                                        <div class="setting-icon"><i class="bi bi-lock-fill"></i></div>
                                                        <div class="setting-text ms-3"><span>Logout</span></div>
                                                    </div>
                                                </a>
                                            </li>
                                        </ul>
                                    }
                                }
                            </li>
                            @*  <li class="nav-item dropdown dropdown-large">
                        <a class="nav-link dropdown-toggle dropdown-toggle-nocaret" href="#" data-bs-toggle="dropdown">
                        <div class="projects">
                        <i class="bi bi-grid-3x3-gap-fill"></i>
                        </div>
                        </a>
                        <div class="dropdown-menu dropdown-menu-end">
                        <div class="row row-cols-3 gx-2">
                        <div class="col">
                        <a href="@Url.Action("AddSaleBySerialSearch", "Sales")">
                        <div class="apps p-2 radius-10 text-center">
                        <div class="apps-icon-box mb-1 text-white bg-primary bg-gradient">
                        <i class="bi bi-cart-plus-fill"></i>
                        </div>
                        <p class="mb-0 apps-name">Sales Orders</p>
                        </div>
                        </a>
                        </div>
                        <div class="col">
                        <a href="@Url.Action("AddPurchaseBatch", "Purchase")">
                        <div class="apps p-2 radius-10 text-center">
                        <div class="apps-icon-box mb-1 text-white bg-danger bg-gradient">
                        <i class="bi bi-people-fill"></i>
                        </div>
                        <p class="mb-0 apps-name">Purchase</p>
                        </div>
                        </a>
                        </div>
                        <div class="col">
                        <a href="@Url.Action("Index", "Admin")">
                        <div class="apps p-2 radius-10 text-center">
                        <div class="apps-icon-box mb-1 text-white bg-success bg-gradient">
                        <i class="bi bi-bank2"></i>
                        </div>
                        <p class="mb-0 apps-name">Dashboard</p>
                        </div>
                        </a>
                        </div>
                        <div class="col">
                        <a href="@Url.Action("SummaryView", "Admin")">
                        <div class="apps p-2 radius-10 text-center">
                        <div class="apps-icon-box mb-1 text-white bg-orange bg-gradient">
                        <i class="bi bi-collection-play-fill"></i>
                        </div>
                        <p class="mb-0 apps-name">Summary</p>
                        </div>
                        </a>
                        </div>
                        <div class="col">
                        <a href="@Url.Action("PostDocument", "Admin")">
                        <div class="apps p-2 radius-10 text-center">
                        <div class="apps-icon-box mb-1 text-white bg-purple bg-gradient">
                        <i class="bi bi-person-circle"></i>
                        </div>
                        <p class="mb-0 apps-name">Post</p>
                        </div>
                        </a>
                        </div> *@
                            @*                                        <div class="col">
                        <a href="javascript:;">
                        <div class="apps p-2 radius-10 text-center">
                        <div class="apps-icon-box mb-1 text-dark bg-info bg-gradient">
                        <i class="bi bi-file-earmark-text-fill"></i>
                        </div>
                        <p class="mb-0 apps-name">Docs</p>
                        </div>
                        </a>
                        </div>*@
                            @* <div class="col">
                        <a href="@Url.Action("AddTransaction", "Admin",  new { Type = "Customer" })">
                        <div class="apps p-2 radius-10 text-center">
                        <div class="apps-icon-box mb-1 text-white bg-pink bg-gradient"> //Note
                        <i class="bi bi-credit-card-fill"></i>
                        </div>
                        <p class="mb-0 apps-name">Collection</p>
                        </div>
                        </a>
                        </div> *@
                            @*                                        <div class="col">
                        <a href="javascript:;">
                        <div class="apps p-2 radius-10 text-center">
                        <div class="apps-icon-box mb-1 text-white bg-bronze bg-gradient">
                        <i class="bi bi-calendar-check-fill"></i>
                        </div>
                        <p class="mb-0 apps-name">Events</p>
                        </div>
                        </a>
                        </div>
                        <div class="col">
                        <a href="javascript:;">
                        <div class="apps p-2 radius-10 text-center">
                        <div class="apps-icon-box mb-1 text-dark bg-warning bg-gradient">
                        <i class="bi bi-book-half"></i>
                        </div>
                        <p class="mb-0 apps-name">Story</p>
                        </div>
                        </a>
                        </div>*@
                            @* </div><!--end row-->
                        </div>
                        </li> *@




                            <li class="nav-item dropdown dropdown-large">
                                <a class="nav-link dropdown-toggle dropdown-toggle-nocaret" href="#" data-bs-toggle="dropdown">
                                    <div class="projects">
                                        <i class="bi bi-grid-3x3-gap-fill"></i>
                                    </div>
                                </a>
                                <div class="dropdown-menu dropdown-menu-end">
                                    <div class="row row-cols-3 gx-2">
                                        <div class="col">
                                            <a href="@Url.Action("AccountHeadList", "Admin")">
                                                <div class="apps p-2 radius-10 text-center">
                                                    <div class="apps-icon-box mb-1 text-white bg-primary bg-gradient">
                                                        <i class="bi bi-card-list"></i>
                                                    </div>
                                                    <p class="mb-0 apps-name">Account Head</p>
                                                </div>
                                            </a>
                                        </div>
                                        <div class="col">
                                            <a href="@Url.Action("COATreeEditable", "Admin")">
                                                <div class="apps p-2 radius-10 text-center">
                                                    <div class="apps-icon-box mb-1 text-white bg-danger bg-gradient">
                                                        <i class="bi bi-diagram-3"></i>
                                                    </div>
                                                    <p class="mb-0 apps-name">COA Tree View</p>
                                                </div>
                                            </a>
                                        </div>
                                        <div class="col">
                                            <a href="@Url.Action("VoucherListQB", "Accounts")">
                                                <div class="apps p-2 radius-10 text-center">
                                                    <div class="apps-icon-box mb-1 text-white bg-success bg-gradient">
                                                        <i class="bi bi-list-check"></i>
                                                    </div>
                                                    <p class="mb-0 apps-name">Voucher List</p>
                                                </div>
                                            </a>
                                        </div>
                                        <div class="col">
                                            <a href="@Url.Action("PostDocument", "Admin")">
                                                <div class="apps p-2 radius-10 text-center">
                                                    <div class="apps-icon-box mb-1 text-white bg-orange bg-gradient">
                                                        <i class="bi bi-check2-all"></i>
                                                    </div>
                                                    <p class="mb-0 apps-name">Post Document</p>
                                                </div>
                                            </a>
                                        </div>
                                        <div class="col">
                                            <a href="@Url.Action("accountstrialbalancereportqb", "Accounts")">
                                                <div class="apps p-2 radius-10 text-center">
                                                    <div class="apps-icon-box mb-1 text-white bg-purple bg-gradient">
                                                        <i class="bi bi-file-spreadsheet"></i>
                                                    </div>
                                                    <p class="mb-0 apps-name">Trial Balance</p>
                                                </div>
                                            </a>
                                        </div>
                                        @*                                        <div class="col">
                                    <a href="javascript:;">
                                    <div class="apps p-2 radius-10 text-center">
                                    <div class="apps-icon-box mb-1 text-dark bg-info bg-gradient">
                                    <i class="bi bi-file-earmark-text-fill"></i>
                                    </div>
                                    <p class="mb-0 apps-name">Docs</p>
                                    </div>
                                    </a>
                                    </div>*@
                                        <div class="col">
                                            <a href="@Url.Action("accountsbalancesheetreportQB", "Accounts",  new { Type = "Customer" })">
                                                <div class="apps p-2 radius-10 text-center">
                                                    <div class="apps-icon-box mb-1 text-white bg-pink bg-gradient">
                                                        <i class="bi bi-table"></i>
                                                    </div>
                                                    <p class="mb-0 apps-name">Balance Sheet</p>
                                                </div>
                                            </a>
                                        </div>

                                        <div class="col">
                                            <a href="@Url.Action("currencycenter", "Admin")">
                                                <div class="apps p-2 radius-10 text-center">
                                                    <div class="apps-icon-box mb-1 text-white bg-pink bg-gradient">
                                                        <i class="bi bi-cash-coin"></i>
                                                    </div>
                                                    <p class="mb-0 apps-name">Currencies</p>
                                                </div>
                                            </a>
                                        </div>

                                        @*                                        <div class="col">
                                    <a href="javascript:;">
                                    <div class="apps p-2 radius-10 text-center">
                                    <div class="apps-icon-box mb-1 text-white bg-bronze bg-gradient">
                                    <i class="bi bi-calendar-check-fill"></i>
                                    </div>
                                    <p class="mb-0 apps-name">Events</p>
                                    </div>
                                    </a>
                                    </div>
                                    <div class="col">
                                    <a href="javascript:;">
                                    <div class="apps p-2 radius-10 text-center">
                                    <div class="apps-icon-box mb-1 text-dark bg-warning bg-gradient">
                                    <i class="bi bi-book-half"></i>
                                    </div>
                                    <p class="mb-0 apps-name">Story</p>
                                    </div>
                                    </a>
                                    </div>*@
                                    </div><!--end row-->
                                </div>
                            </li>





                            @*<li class="nav-item dropdown dropdown-large">
                        <a class="nav-link dropdown-toggle dropdown-toggle-nocaret" href="#" data-bs-toggle="dropdown">
                        <div class="messages">
                        <span class="notify-badge">5</span>
                        <i class="bi bi-messenger"></i>
                        </div>
                        </a>
                        <div class="dropdown-menu dropdown-menu-end p-0">
                        <div class="p-2 border-bottom m-2">
                        <h5 class="h5 mb-0">Messages</h5>
                        </div>
                        <div class="header-message-list p-2">
                        <div class="dropdown-item bg-light radius-10 mb-1">
                        <form class="dropdown-searchbar position-relative">
                        <div class="position-absolute top-50 start-0 translate-middle-y px-3 search-icon"><i class="bi bi-search"></i></div>
                        <input class="form-control" type="search" placeholder="Search Messages">
                        </form>
                        </div>
                        <a class="dropdown-item" href="#">
                        <div class="d-flex align-items-center">
                        <img src="~/Admin_theme_gtr/assets/images/avatars/avatar-1.png" alt="" class="rounded-circle" width="52" height="52">
                        <div class="ms-3 flex-grow-1">
                        <h6 class="mb-0 dropdown-msg-user">Amelio Joly <span class="msg-time float-end text-secondary">1 m</span></h6>
                        <small class="mb-0 dropdown-msg-text text-secondary d-flex align-items-center">The standard chunk of lorem...</small>
                        </div>
                        </div>
                        </a>
                        <a class="dropdown-item" href="#">
                        <div class="d-flex align-items-center">
                        <img src="~/Admin_theme_gtr/assets/images/avatars/avatar-2.png" alt="" class="rounded-circle" width="52" height="52">
                        <div class="ms-3 flex-grow-1">
                        <h6 class="mb-0 dropdown-msg-user">Althea Cabardo <span class="msg-time float-end text-secondary">7 m</span></h6>
                        <small class="mb-0 dropdown-msg-text text-secondary d-flex align-items-center">Many desktop publishing</small>
                        </div>
                        </div>
                        </a>
                        <a class="dropdown-item" href="#">
                        <div class="d-flex align-items-center">
                        <img src="~/Admin_theme_gtr/assets/images/avatars/avatar-3.png" alt="" class="rounded-circle" width="52" height="52">
                        <div class="ms-3 flex-grow-1">
                        <h6 class="mb-0 dropdown-msg-user">Katherine Pechon <span class="msg-time float-end text-secondary">2 h</span></h6>
                        <small class="mb-0 dropdown-msg-text text-secondary d-flex align-items-center">Making this the first true</small>
                        </div>
                        </div>
                        </a>
                        <a class="dropdown-item" href="#">
                        <div class="d-flex align-items-center">
                        <img src="~/Admin_theme_gtr/assets/images/avatars/avatar-4.png" alt="" class="rounded-circle" width="52" height="52">
                        <div class="ms-3 flex-grow-1">
                        <h6 class="mb-0 dropdown-msg-user">Peter Costanzo <span class="msg-time float-end text-secondary">3 h</span></h6>
                        <small class="mb-0 dropdown-msg-text text-secondary d-flex align-items-center">It was popularised in the 1960</small>
                        </div>
                        </div>
                        </a>
                        <a class="dropdown-item" href="#">
                        <div class="d-flex align-items-center">
                        <img src="~/Admin_theme_gtr/assets/images/avatars/avatar-5.png" alt="" class="rounded-circle" width="52" height="52">
                        <div class="ms-3 flex-grow-1">
                        <h6 class="mb-0 dropdown-msg-user">Thomas Wheeler <span class="msg-time float-end text-secondary">1 d</span></h6>
                        <small class="mb-0 dropdown-msg-text text-secondary d-flex align-items-center">If you are going to use a passage</small>
                        </div>
                        </div>
                        </a>
                        <a class="dropdown-item" href="#">
                        <div class="d-flex align-items-center">
                        <img src="~/Admin_theme_gtr/assets/images/avatars/avatar-6.png" alt="" class="rounded-circle" width="52" height="52">
                        <div class="ms-3 flex-grow-1">
                        <h6 class="mb-0 dropdown-msg-user">Johnny Seitz <span class="msg-time float-end text-secondary">2 w</span></h6>
                        <small class="mb-0 dropdown-msg-text text-secondary d-flex align-items-center">All the Lorem Ipsum generators</small>
                        </div>
                        </div>
                        </a>
                        <a class="dropdown-item" href="#">
                        <div class="d-flex align-items-center">
                        <img src="~/Admin_theme_gtr/assets/images/avatars/avatar-1.png" alt="" class="rounded-circle" width="52" height="52">
                        <div class="ms-3 flex-grow-1">
                        <h6 class="mb-0 dropdown-msg-user">Amelio Joly <span class="msg-time float-end text-secondary">1 m</span></h6>
                        <small class="mb-0 dropdown-msg-text text-secondary d-flex align-items-center">The standard chunk of lorem...</small>
                        </div>
                        </div>
                        </a>
                        <a class="dropdown-item" href="#">
                        <div class="d-flex align-items-center">
                        <img src="~/Admin_theme_gtr/assets/images/avatars/avatar-2.png" alt="" class="rounded-circle" width="52" height="52">
                        <div class="ms-3 flex-grow-1">
                        <h6 class="mb-0 dropdown-msg-user">Althea Cabardo <span class="msg-time float-end text-secondary">7 m</span></h6>
                        <small class="mb-0 dropdown-msg-text text-secondary d-flex align-items-center">Many desktop publishing</small>
                        </div>
                        </div>
                        </a>
                        <a class="dropdown-item" href="#">
                        <div class="d-flex align-items-center">
                        <img src="~/Admin_theme_gtr/assets/images/avatars/avatar-3.png" alt="" class="rounded-circle" width="52" height="52">
                        <div class="ms-3 flex-grow-1">
                        <h6 class="mb-0 dropdown-msg-user">Katherine Pechon <span class="msg-time float-end text-secondary">2 h</span></h6>
                        <small class="mb-0 dropdown-msg-text text-secondary d-flex align-items-center">Making this the first true</small>
                        </div>
                        </div>
                        </a>
                        </div>
                        <div class="p-2">
                        <div><hr class="dropdown-divider"></div>
                        <a class="dropdown-item" href="#">
                        <div class="text-center">View All Messages</div>
                        </a>
                        </div>
                        </div>
                        </li>
                        <li class="nav-item dropdown dropdown-large d-none d-sm-block">
                        <a class="nav-link dropdown-toggle dropdown-toggle-nocaret" href="#" data-bs-toggle="dropdown">
                        <div class="notifications">
                        <span class="notify-badge">8</span>
                        <i class="bi bi-bell-fill"></i>
                        </div>
                        </a>
                        <div class="dropdown-menu dropdown-menu-end p-0">
                        <div class="p-2 border-bottom m-2">
                        <h5 class="h5 mb-0">Notifications</h5>
                        </div>
                        <div class="header-notifications-list p-2">
                        <div class="dropdown-item bg-light radius-10 mb-1">
                        <form class="dropdown-searchbar position-relative">
                        <div class="position-absolute top-50 start-0 translate-middle-y px-3 search-icon"><i class="bi bi-search"></i></div>
                        <input class="form-control" type="search" placeholder="Search Messages">
                        </form>
                        </div>
                        <a class="dropdown-item" href="#">
                        <div class="d-flex align-items-center">
                        <div class="notification-box"><i class="bi bi-basket2-fill"></i></div>
                        <div class="ms-3 flex-grow-1">
                        <h6 class="mb-0 dropdown-msg-user">New Orders <span class="msg-time float-end text-secondary">1 m</span></h6>
                        <small class="mb-0 dropdown-msg-text text-secondary d-flex align-items-center">You have recived new orders</small>
                        </div>
                        </div>
                        </a>
                        <a class="dropdown-item" href="#">
                        <div class="d-flex align-items-center">
                        <div class="notification-box"><i class="bi bi-people-fill"></i></div>
                        <div class="ms-3 flex-grow-1">
                        <h6 class="mb-0 dropdown-msg-user">New Customers <span class="msg-time float-end text-secondary">7 m</span></h6>
                        <small class="mb-0 dropdown-msg-text text-secondary d-flex align-items-center">5 new user registered</small>
                        </div>
                        </div>
                        </a>
                        <a class="dropdown-item" href="#">
                        <div class="d-flex align-items-center">
                        <div class="notification-box"><i class="bi bi-file-earmark-bar-graph-fill"></i></div>
                        <div class="ms-3 flex-grow-1">
                        <h6 class="mb-0 dropdown-msg-user">24 PDF File <span class="msg-time float-end text-secondary">2 h</span></h6>
                        <small class="mb-0 dropdown-msg-text text-secondary d-flex align-items-center">The pdf files generated</small>
                        </div>
                        </div>
                        </a>
                        <a class="dropdown-item" href="#">
                        <div class="d-flex align-items-center">
                        <div class="notification-box"><i class="bi bi-collection-play-fill"></i></div>
                        <div class="ms-3 flex-grow-1">
                        <h6 class="mb-0 dropdown-msg-user">Time Response  <span class="msg-time float-end text-secondary">3 h</span></h6>
                        <small class="mb-0 dropdown-msg-text text-secondary d-flex align-items-center">5.1 min avarage time response</small>
                        </div>
                        </div>
                        </a>
                        <a class="dropdown-item" href="#">
                        <div class="d-flex align-items-center">
                        <div class="notification-box"><i class="bi bi-cursor-fill"></i></div>
                        <div class="ms-3 flex-grow-1">
                        <h6 class="mb-0 dropdown-msg-user">New Product Approved  <span class="msg-time float-end text-secondary">1 d</span></h6>
                        <small class="mb-0 dropdown-msg-text text-secondary d-flex align-items-center">Your new product has approved</small>
                        </div>
                        </div>
                        </a>
                        <a class="dropdown-item" href="#">
                        <div class="d-flex align-items-center">
                        <div class="notification-box"><i class="bi bi-gift-fill"></i></div>
                        <div class="ms-3 flex-grow-1">
                        <h6 class="mb-0 dropdown-msg-user">New Comments <span class="msg-time float-end text-secondary">2 w</span></h6>
                        <small class="mb-0 dropdown-msg-text text-secondary d-flex align-items-center">New customer comments recived</small>
                        </div>
                        </div>
                        </a>
                        <a class="dropdown-item" href="#">
                        <div class="d-flex align-items-center">
                        <div class="notification-box"><i class="bi bi-droplet-fill"></i></div>
                        <div class="ms-3 flex-grow-1">
                        <h6 class="mb-0 dropdown-msg-user">New 24 authors<span class="msg-time float-end text-secondary">1 m</span></h6>
                        <small class="mb-0 dropdown-msg-text text-secondary d-flex align-items-center">24 new authors joined last week</small>
                        </div>
                        </div>
                        </a>
                        <a class="dropdown-item" href="#">
                        <div class="d-flex align-items-center">
                        <div class="notification-box"><i class="bi bi-mic-fill"></i></div>
                        <div class="ms-3 flex-grow-1">
                        <h6 class="mb-0 dropdown-msg-user">Your item is shipped <span class="msg-time float-end text-secondary">7 m</span></h6>
                        <small class="mb-0 dropdown-msg-text text-secondary d-flex align-items-center">Successfully shipped your item</small>
                        </div>
                        </div>
                        </a>
                        <a class="dropdown-item" href="#">
                        <div class="d-flex align-items-center">
                        <div class="notification-box"><i class="bi bi-lightbulb-fill"></i></div>
                        <div class="ms-3 flex-grow-1">
                        <h6 class="mb-0 dropdown-msg-user">Defense Alerts <span class="msg-time float-end text-secondary">2 h</span></h6>
                        <small class="mb-0 dropdown-msg-text text-secondary d-flex align-items-center">45% less alerts last 4 weeks</small>
                        </div>
                        </div>
                        </a>
                        <a class="dropdown-item" href="#">
                        <div class="d-flex align-items-center">
                        <div class="notification-box"><i class="bi bi-bookmark-heart-fill"></i></div>
                        <div class="ms-3 flex-grow-1">
                        <h6 class="mb-0 dropdown-msg-user">4 New Sign Up <span class="msg-time float-end text-secondary">2 w</span></h6>
                        <small class="mb-0 dropdown-msg-text text-secondary d-flex align-items-center">New 4 user registartions</small>
                        </div>
                        </div>
                        </a>
                        <a class="dropdown-item" href="#">
                        <div class="d-flex align-items-center">
                        <div class="notification-box"><i class="bi bi-briefcase-fill"></i></div>
                        <div class="ms-3 flex-grow-1">
                        <h6 class="mb-0 dropdown-msg-user">All Documents Uploaded <span class="msg-time float-end text-secondary">1 mo</span></h6>
                        <small class="mb-0 dropdown-msg-text text-secondary d-flex align-items-center">Sussessfully uploaded all files</small>
                        </div>
                        </div>
                        </a>
                        </div>
                        <div class="p-2">
                        <div><hr class="dropdown-divider"></div>
                        <a class="dropdown-item" href="#">
                        <div class="text-center">View All Notifications</div>
                        </a>
                        </div>
                        </div>
                        </li>*@
                        </ul>
                    </div>
                </nav>
            </header>

        }
        <!--end top header-->
        <!--start sidebar -->
        @if (HttpContextAccessor.HttpContext.Session.GetInt32("ComId") != 0)
        {
            <aside class="sidebar-wrapper">
                @{

                    var AllParentMenu = HttpContextAccessor.HttpContext.Session.GetObject<List<UserMenuPermissionViewModel>>("UserParentMenu");



                    <div class="iconmenu">

                        <div class="nav-toggle-box">
                            <div class="nav-toggle-icon"><i class="bi bi-list"></i></div>
                        </div>
                        <ul class="nav nav-pills flex-column">

                            @if (AllParentMenu != null)
                            {
                                var filterparentmenu = AllParentMenu.Where(x => x.IsGroup == false).ToList();
                                // var firstelement = 0;
                                foreach (var item in filterparentmenu.OrderBy(x => x.SLNo))
                                {
                                //if (firstelement == 0)
                                    //{
                                    //  <li class="nav-item" data-bs-toggle="tooltip" data-bs-placement="right" title="@item.MenuName">
                                    //    <button class="nav-link active" data-bs-toggle="pill" data-bs-target="#abc-@item.Id" type="button"><i class="@item.MenuClass"></i></button>
                                    //</li>
                                    //}
                                    //else
                                    //{
                                    <li class="nav-item" data-bs-toggle="tooltip" data-bs-placement="right" title="@item.MenuName">
                                        <button class="nav-link" data-bs-toggle="pill" data-bs-target="#abc-@item.Id" type="button"><i class="@item.MenuClass"></i></button>
                                    </li>

                                    //}
                                    //firstelement++;

                                }
                            }

                        </ul>
                    </div>
                    <div class="textmenu">
                        <div class="brand-logo">

                            <a class="" href="#">
                                @if (@comimagepath != null)
                                {
                                    <img width="38" class="img-fluid me-2" src="..@comimagepath" onerror="this.onerror=null; this.src='.@comimagepath'" alt="" id="main-img">

                                }



                                else
                                {
                                    <img width="10" class="img-fluid me-2" src="../Content/ProductImages/0.png" id="main-img">
                                }
                            </a>



                            @if (HttpContextAccessor.HttpContext.Session.GetString("AppsName") == null)
                            {
                                <span class="MenuClass"><span class="shadow" style="color: dimgray;"> Easy  </span> <strong> <span style="color:purple"> POS </span></strong> </span>
                            }
                            else
                            {
                                string[] appsname = HttpContextAccessor.HttpContext.Session.GetString("AppsName").Split(' ');
                                if (appsname.ToList().Count == 2)
                                {
                                    <span class="MenuClass"><span class="shadow" style="color: dimgray;"> @appsname[0]  </span> <strong> <span style="color:purple"> @appsname[1] </span></strong> </span>
                                }
                                else
                                {
                                    <span class="MenuClass"><span class="shadow" style="color: dimgray;"> @HttpContextAccessor.HttpContext.Session.GetString("AppsName")  </span> </span>
                                }

                            }

                            @*<img src="~/Admin_theme_gtr/assets/images/brand-logo-2.png" width="140" alt=""/>*@
                        </div>
                        <div class="tab-content">

                            @{
                                var AllChildMenu = HttpContextAccessor.HttpContext.Session.GetObject<List<UserMenuPermissionViewModel>>("UserChildMenu");
                                if (AllParentMenu != null)
                                {
                                    var filterparentmenu = AllParentMenu.Where(x => x.IsGroup == false).ToList();
                                    foreach (var item in filterparentmenu.OrderBy(x => x.SLNo))
                                    {

                                        <div class="tab-pane fade" id="abc-@item.Id">
                                            <div class="p-2" id="megamenu">
                                                <!-- Example single danger button -->
                                                <div class="btn-group d-grid">
                                                    <button type="button" class="btn btn-primary btn-sm rounded shadow-none border-white" data-bs-toggle="dropdown" aria-expanded="false">
                                                        <i class="bi bi-plus-circle"></i> New
                                                    </button>
                                                    <div class="dropdown-menu">
                                                        <div class="row pe-5">
                                                            <div class="col-md-3">
                                                                <div>
                                                                    <p class="fw-500 ps-5 pt-2 hr">
                                                                        CUSTOMERS
                                                                        <hr class="w-50 mx-auto border border-dark opacity-100" />
                                                                    </p>

                                                                </div>
                                                                <ul>
                                                                    <li><a class="dropdown-item" href="@Url.Action("AddInvoiceQB", "Sales", new { Type = "Invoice" })">Invoice</a></li>
                                                                    <li><a class="dropdown-item" href="@Url.Action("AddReceivePaymentQB", "Sales")">Receive payment</a></li>
                                                                    <li><a class="dropdown-item" href="@Url.Action("AddInvoiceQB", "Sales", new { Type = "Estimate" })">Estimate</a></li>
                                                                    <li><a class="dropdown-item" href="@Url.Action("AddInvoiceQB", "Sales", new { Type = "Credit Note" })">Credit Note</a></li>
                                                                    <li><a class="dropdown-item" href="@Url.Action("AddInvoiceQB", "Sales", new { Type = "Sales receipt" })">Sales receipt</a></li>
                                                                    @*<li><a class="dropdown-item" href="#">Refund receipt</a></li>
                                                                    <li><a class="dropdown-item" href="#">Delayed credit</a></li>*@
                                                                    <li><a class="dropdown-item" href="@Url.Action("AddInvoiceQB", "Sales", new { Type = "Delayed Charge" })">Delayed charge</a></li>
                                                                    <li><a class="dropdown-item" href="@Url.Action("InvoiceList", "Sales", new { Type = "Customers" })">Add customer</a></li>
                                                                </ul>

                                                            </div>
                                                            <div class="col-md-3">
                                                                <div>
                                                                    <p class="fw-500 ps-5 pt-2">
                                                                        SUPPLIERS
                                                                        <hr class="w-50 mx-auto border border-dark opacity-100" />
                                                                    </p>
                                                                </div>
                                                                <ul id="li-add-in-ul">
                                                                    @*`@Url.Action("AddBillByType", "Accounts")?VoucherId=${data.Id}`;*@
                                                                    <li><a class="dropdown-item " href="@Url.Action("AddBillbyType", "Accounts", new { Type = "Expenses" })">Expense</a></li>
                                                                    <li><a class="dropdown-item" href="@Url.Action("AddBillbyType", "Accounts", new { Type = "Cheque" })">Cheque</a></li>
                                                                    <li><a class="dropdown-item" href="@Url.Action("AddBillbyType", "Accounts", new { Type = "Bill" })">Bill</a></li>
                                                                    <li><a class="dropdown-item" href="@Url.Action("Paybills", "Accounts")">Pay bills</a></li>
                                                                    <li><a class="dropdown-item" href="@Url.Action("AddBillbyType", "Accounts", new { Type = "Purchase Order" })">Purchase Order</a></li>

                                                                    <li><a class="dropdown-item" href="@Url.Action("AddBillbyType", "Accounts", new { Type = "Supplier credit" })">Supplier credit</a></li>
                                                                    @*<li><a class="dropdown-item disabled-link" href="#" >Print checks</a></li>
                                                                    <li><a class="dropdown-item disabled-link" href="#">Credit card credit</a></li>*@
                                                                    <li><a class="dropdown-item " href="@Url.Action("BillListQB", "Accounts", new { Type = "Suppliers" })">Add Supplier</a></li>
                                                                </ul>
                                                            </div>
                                                            <div class="col-md-3">
                                                                <div>
                                                                    <p class="fw-500 ps-5 pt-2">
                                                                        EMPLOYEES
                                                                        <hr class="w-50 mx-auto border border-dark opacity-100" />
                                                                    </p>
                                                                </div>
                                                                <ul id="li-add-in-ul">

                                                                    @*<li><a class="dropdown-item disabled-link" href="#">Single time activity</a></li>
                                                                    <li><a class="dropdown-item disabled-link" href="#">Weekly timesheet</a></li>*@
                                                                    <li><a class="dropdown-item" href="@Url.Action("AddEmployee", "Association")">Add Employee</a></li>
                                                                    <li><a class="dropdown-item" href="@Url.Action("EmployeeList", "Association")">Employee List</a></li>
                                                                </ul>
                                                            </div>
                                                            <div class="col-md-3">
                                                                <div>
                                                                    <p class="fw-500 ps-5 pt-2">
                                                                        OTHER
                                                                        <hr class="w-50 mx-auto border border-dark opacity-100" />
                                                                    </p>
                                                                </div>
                                                                <ul>
                                                                    @*<li><a class="dropdown-item disabled-link" href="#">Bank deposit</a></li>
                                                                    <li><a class="dropdown-item disabled-link" href="#">Transfer</a></li>*@
                                                                    <li><a class="dropdown-item" href="@Url.Action("AddVoucherByType", "Accounts", new { Type = "VJR" })">Journal entry</a></li>
                                                                    <li><a class="dropdown-item" href="@Url.Action("ReportList", "Admin", new { type = "Standard" })">Reports</a></li>
                                                                    @*<li><a class="dropdown-item disabled-link" href="#">Statement</a></li>
                                                                    <li><a class="dropdown-item disabled-link" href="#">Inventory qty adjustment</a></li>
                                                                    <li><a class="dropdown-item disabled-link" href="#">Pay down credit card</a></li>*@
                                                                    <li><a class="dropdown-item" href="@Url.Action("InvoiceList", "Sales", new { Type = "Products" })">Add product/service</a></li>
                                                                    @*<li><a class="dropdown-item disabled-link" href="#">Batch transactions</a></li>
                                                <li><a class="dropdown-item disabled-link" href="#">Apply for Capital</a></li>*@
                                                                </ul>
                                                            </div>
                                                        </div>

                                                    </div>
                                                </div>
                                            </div>


                                            <div class="list-group list-group-flush">
                                                <div class="list-group-item">
                                                    <div class="d-flex w-100 justify-content-between">
                                                        <h5 class="mb-0">@item.MenuName</h5>
                                                    </div>
                                                </div>
                                                @{
                                                    var childmenu = AllChildMenu.Where(x => x.ParentId == item.Id && x.IsView == true).OrderBy(x => x.SLNo).ToList();
                                                    if (childmenu.Count > 0)
                                                    {
                                                        @foreach (var childitem in childmenu)
                                                            if (childitem.FirstParameter != null)
                                                            {
                                                                var parameters = new Dictionary<string, object>();
                                                                if (!string.IsNullOrWhiteSpace(childitem.FirstParameter))
                                                                {
                                                                    parameters[childitem.FirstParameter] = childitem.FirstValue;
                                                                }
                                                                <a href="@Url.Action(childitem.ActionName, childitem.ControllerName, parameters)" class="list-group-item">
                                                                    <i class="bi bi-cart-plus @childitem.MenuClass"></i>@childitem.MenuName
                                                                </a>


                                                            }
                                                            else
                                                            {
                                                                if (childitem.ActionName != "ExternalURL")
                                                                {
                                                                    <a href="@Url.Action(@childitem.ActionName, @childitem.ControllerName)" class="list-group-item"><i class="bi bi-cart-plus @childitem.MenuClass"></i>@childitem.MenuName</a>
                                                                }
                                                                else
                                                                {
                                                                    <a href="@Html.Raw(childitem.AllActionName)" class="list-group-item"><i class="bi bi-cart-plus @childitem.MenuClass"></i>@childitem.MenuName</a>
                                                                }



                                                            }
                                                    }
                                                }
                                            </div>



                                        </div>
                                    }
                                }
                            }

                        </div>
                    </div>
                }
            </aside>

        }
        <!--start sidebar -->
        <!--start content-->
        <main class="page-content">
            <div>
                @RenderBody()
            </div><!--end body -->
            @*<footer class="footer" style="color:#0f0e17;">

            <div class="pull-right hidden-xs">
            Made with <i class="fa fa-heart pulse"></i>
            </div>
            <strong>Copyright &copy; 2022 <a href="https://www.gtrbd.net/Atrai">Genuine Research & Technology</a>.</strong> All rights reserved.
            </footer>*@
        </main>
        <!--end page main-->
        <!--start overlay-->
        <div class="overlay nav-toggle-icon"></div>
        <!--end overlay-->
        <!--Start Back To Top Button-->
        <a href="javaScript:;" class="back-to-top"><i class='bx bxs-up-arrow-alt'></i></a>
        <!--End Back To Top Button-->
        <!--start switcher-->
        <div class="switcher-body">
            <button class="btn btn-primary btn-switcher shadow-sm" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasScrolling" aria-controls="offcanvasScrolling"><i class="bi bi-paint-bucket me-0"></i></button>
            <div class="offcanvas offcanvas-end shadow border-start-0 p-2" data-bs-scroll="true" data-bs-backdrop="false" tabindex="-1" id="offcanvasScrolling">
                <div class="offcanvas-header border-bottom">
                    <h5 class="offcanvas-title" id="offcanvasScrollingLabel">Theme Customizer</h5>
                    <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas"></button>
                </div>
                <div class="offcanvas-body">
                    <h6 class="mb-0">Theme Variation</h6>
                    <hr>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="inlineRadioOptions" id="LightTheme" value="option1">
                        <label class="form-check-label" for="LightTheme">Light</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="inlineRadioOptions" id="DarkTheme" value="option2">
                        <label class="form-check-label" for="DarkTheme">Dark</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="inlineRadioOptions" id="SemiDarkTheme" value="option3">
                        <label class="form-check-label" for="SemiDarkTheme">Semi Dark</label>
                    </div>
                    <hr>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="inlineRadioOptions" id="MinimalTheme" value="option3" checked>
                        <label class="form-check-label" for="MinimalTheme">Minimal Theme</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="inlineRadioOptions" id="AtraiTheme" value="option4">
                        <label class="form-check-label" for="AtraiTheme">Atrai blue Theme</label>
                    </div>
                    <hr />
                    <h6 class="mb-0">Header Colors</h6>
                    <hr />
                    <div class="header-colors-indigators">
                        <div class="row row-cols-auto g-3">
                            <div class="col">
                                <div class="indigator headercolor1" id="headercolor1"></div>
                            </div>
                            <div class="col">
                                <div class="indigator headercolor2" id="headercolor2"></div>
                            </div>
                            <div class="col">
                                <div class="indigator headercolor3" id="headercolor3"></div>
                            </div>
                            <div class="col">
                                <div class="indigator headercolor4" id="headercolor4"></div>
                            </div>
                            <div class="col">
                                <div class="indigator headercolor5" id="headercolor5"></div>
                            </div>
                            <div class="col">
                                <div class="indigator headercolor6" id="headercolor6"></div>
                            </div>
                            <div class="col">
                                <div class="indigator headercolor7" id="headercolor7"></div>
                            </div>
                            <div class="col">
                                <div class="indigator headercolor8" id="headercolor8"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--end switcher-->

    </div>
    <!-- modal Search-->

    <div class="modal fade" id="searchModal" tabindex="-1" aria-labelledby="searchModal" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4><i class="bi bi-search mx-2"></i></h4> <input class="form-control" type="text" placeholder="Type here to search" id="GlobalSearch" oninput="SearchLink()">
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="row" id="LinksListId">
                        @*  <div class="col-2"><b>Menu</b></div>
                        <div class="col-10">
                        <div class="list-group" id="LinksListId" style="overflow-y:auto;max-height:400px">


                        </div>
                        </div>*@
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- modal Search-->
    <!--end wrapper-->
    <!-- Bootstrap bundle JS -->
    <script src="~/Admin_theme_gtr/assets/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
    <!--<script src="~/Admin_theme_gtr/assets/js/jquery.min.js"></script>-->
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-treegrid/0.2.0/js/jquery.treegrid.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-treegrid/0.2.0/js/jquery.treegrid.bootstrap3.min.js"></script>


    <script src="~/lib/jquery-validation/dist/jquery.validate.js"></script>
    <script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js"></script>

    <!--plugins-->

    <script type="text/javascript" src="https://unpkg.com/tabulator-tables@5.5.0/dist/js/tabulator.min.js"></script>
        @*scripts for pdf generation*@
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.8.0/html2pdf.bundle.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.29/jspdf.plugin.autotable.min.js"></script>
    <script src="https://unpkg.com/xlsx/dist/xlsx.full.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
    <script src="~/Admin_theme_gtr/assets/plugins/simplebar/js/simplebar.min.js"></script>
    <script src="~/Admin_theme_gtr/assets/plugins/perfect-scrollbar/js/perfect-scrollbar.js"></script>
    <script src="~/Admin_theme_gtr/assets/js/pace.min.js"></script>
    <script src="~/Admin_theme_gtr/assets/plugins/input-tags/js/tagsinput.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/TableExport/3.3.5/js/tableexport.js"></script>
     @*datatable may be currently not use in this project comment by shahinur 31 jan 24*@
    
    <script src="~/Admin_theme_gtr/assets/plugins/datatable/js/jquery.dataTables.min.js"></script>
    <script src="~/Admin_theme_gtr/assets/plugins/datatable/js/dataTables.bootstrap5.min.js"></script>
    <script src="~/Admin_theme_gtr/assets/js/table-datatable.js"></script>
    <script src="https:cdn.datatables.net/buttons/2.2.3/js/buttons.bootstrap5.min.js"></script>
    <script src="https:cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
    <script src="https:cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
    <script src="https:cdn.datatables.net/buttons/2.2.3/js/buttons.html5.min.js"></script>
    <script src="https:cdn.datatables.net/buttons/2.2.3/js/buttons.print.min.js"></script>
    <script src="https:cdn.datatables.net/buttons/2.2.3/js/buttons.colVis.min.js"></script>
    <script src="https:cdn.datatables.net/rowreorder/1.2.8/js/dataTables.rowReorder.min.js"></script>
    <script src="https:cdn.datatables.net/responsive/2.3.0/js/dataTables.responsive.min.js"></script>
    <script src="https:cdn.datatables.net/responsive/2.3.0/js/responsive.bootstrap5.min.js"></script>
    
    <script src="~/Admin_theme_gtr/assets/plugins/chartjs/chart.min.js"></script>
    <script src="~/Admin_theme_gtr/assets/plugins/apexcharts-bundle/js/apexcharts.min.js"></script>
    <!-- end data table intt -->
    <script src="~/Admin_theme_gtr/assets/plugins/vectormap/jquery-jvectormap-2.0.2.min.js"></script>
    <script src="~/Admin_theme_gtr/assets/plugins/vectormap/jquery-jvectormap-world-mill-en.js"></script>

    <!--date-->
    @*<script src="~/admin_theme_gtr/assets/plugins/bootstrap-material-datetimepicker/js/moment.min.js"></script>*@
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.27.0/moment.min.js"></script>
    <script src="~/Admin_theme_gtr/assets/plugins/datetimepicker/js/picker.js"></script>
    <script src="~/Admin_theme_gtr/assets/plugins/datetimepicker/js/picker.date.js"></script>
    <script src="~/Admin_theme_gtr/assets/js/form-date-time-pickes.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>

    <!--image file upload-->
    <script src="~/Admin_theme_gtr/assets/plugins/fancy-file-uploader/jquery.fancy-fileupload.js"></script>
    <script src="~/Admin_theme_gtr/assets/plugins/Drag-And-Drop/dist/imageuploadify.min.js"></script>
    <script src="~/Admin_theme_gtr/assets/js/form-file-upload.js"></script>
    <!--app-->

    <script src="~/adminela/assets/toastr/toastr.min.js"></script>
    <script src="~/AdminEla/Assets/toastr/toaster_custom.js"></script>
    <script src="~/AdminEla/Assets/js/lib/toastr/toaster_custom.js"></script>

    <script src="~/Admin_theme_gtr/assets/js/app.js"></script>
    <script type="text/javascript" src="~/jsGrid/jsgrid.min.js"></script>

    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/selectize.js/0.15.2/css/selectize.bootstrap5.min.css"
          integrity="sha512-Ars0BmSwpsUJnWMw+KoUKGKunT7+T8NGK0ORRKj+HT8naZzLSIQoOSIIM3oyaJljgLxFi0xImI5oZkAWEFARSA=="
          crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/selectize.js/0.15.2/js/selectize.min.js"
            integrity="sha512-IOebNkvA/HZjMM7MxL0NYeLYEalloZ8ckak+NDtOViP7oiYzG5vn6WVXyrJDiJPhl4yRdmNAG49iuLmhkUdVsQ=="
            crossorigin="anonymous" referrerpolicy="no-referrer"></script>


    @RenderSection("scripts", required: false)
    <script type="text/javascript">
        $(window).on('load', function () {
            $('.loader').remove();
        });

        function OpenSearchModal() {
            let modaloptions = {
                focus: false,
                keyboard: true,
                backdrop: true,
            };
            var myModal = new bootstrap.Modal(document.getElementById('searchModal'), modaloptions);
            $("#GlobalSearch").val("");
            myModal.show();
            $("#GlobalSearch").focus();
            console.log("modal", myModal);
        }
        function SearchLink() {
            let searchTerm = $("#GlobalSearch").val();
            if (searchTerm.length < 3) {
                return;
            }
            $.get(`@Url.Action("GlobalSearch", "Admin")?query=${searchTerm}`, function (data) {
                const groupNames = [...new Set(data.map(item => item.SearchText.split(' : ')[0]))];
                console.log(groupNames);
                console.log("groupedData", groupNames);
                let design = '';

                for (let i = 0; i < groupNames.length; i++) {
                    let g = groupNames[i];
                    design += `<div class="row">
                                    <div class="col-2"><b>${g}</b></div>
                                    <div class="col-10">
                                        <div class="list-group" id="LinksListId" style="overflow-y:auto;max-height:400px">`;

                    for (let j = 0; j < data.length; j++) {
                        let links = data[j];
                        if (links.SearchText.startsWith(g)) {
                            design += `<a href="../${links.Controller}/${links.Action}" class="list-group-item list-group-item-action p-3 hover-style">${links.SearchText}</a>`;
                        }
                    }

                    design += `       </div>
                                    </div>
                                </div>`;
                }
                $("#LinksListId").html(design);


            }).fail(function (xhr, status, error) {
                console.error("Error:", error);
            });
        }

        // autocompletefunctionGlobal();
        // function autocompletefunctionGlobal() {



        //     var globalsearchabc = "";
        //     $("#GlobalSearch").autocomplete({
        //         source: function (request, response) {
        //             globalsearchabc = $("#GlobalSearch").val();
        //             //var e = jQuery.Event("keydown");
        //             //e.keyCode = 50;
        //             //$("#GlobalSearch").trigger(e);

        //             $.ajax({
        //                 //url: '../admin/GlobalSearch/',
        //                 "url": "@Url.Action("GlobalSearch", "Admin")",
        //                 dataType: "json",
        //                 data: {
        //                     query: $("#GlobalSearch").val()
        //                 },
        //                 success: function (data) {
        //                     console.log(data);
        //                     response($.map(data, function (item) {

        //                         return { ItemId: item.IdValue, label: $("#GlobalSearch").val(), fulltext: item.SearchText, EntryDate: item.EntryDate, Figure: item.Figure, ClickableLink: item.ClickableLink, Controller: item.Controller, Action: item.Action, IdValue: item.IdValue };
        //                     }));
        //                 },
        //                 error: function (xhr, status, error) {
        //                     alert("Error");
        //                 },
        //             });


        //         },
        //         response: function (event, ui) {
        //         },
        //         autoFocus: true,

        //         minLength: 3,
        //         select: function (event, ui) {


        //             var ClickableLink = '@Url.Action("Action", "Controller")';
        //             ClickableLink = ClickableLink.replace("Action", ui.item.Action);
        //             ClickableLink = ClickableLink.replace("Controller", ui.item.Controller);
        //             window.open(ClickableLink, '_blank');


        //             //newrowwithui(ui);
        //             //window.open(ui.item.ClickableLink, '_blank')


        //             //$('#GlobalSearch').val(globalsearchabc);
        //             //globalsearchvalue =  $('#GlobalSearch').val();
        //             //$('#GlobalSearch').focus();

        //             //alert(abcdef);
        //             return false;
        //         }
        //     }).autocomplete("instance")._renderItem = function (ul, item) {

        //         var trs = '';

        //         trs = '<p class="text-sm-left font-italic" style="font-size:12px">';
        //         if (item.EntryDate != "") {
        //             trs += ' Create Date : ' + item.EntryDate + ' ' + item.Figure + ' ';
        //         }

        //         trs += '</p>';
        //         return $("<li>")
        //             .append("<div class=m-0>" + item.fulltext + trs + "</div>")
        //             .appendTo(ul);
        //     };
        // }



        var dashboardData;
        var VatViewActivate = '@HttpContextAccessor.HttpContext.Session.GetInt32("IsVatLogin").ToString()';
        var shortcutkey = '@HttpContextAccessor.HttpContext.Session.GetString("ShortCutKey").ToString()';
        var DecimalField = '@HttpContextAccessor.HttpContext.Session.GetInt32("DecimalField").ToString()';
        var UserValidityDays = '@HttpContextAccessor.HttpContext.Session.GetInt32("UserValidityDays").ToString()';
        var ShowAlert = '@HttpContextAccessor.HttpContext.Session.GetInt32("ShowAlert").ToString()';


        if (UserValidityDays > 0 && UserValidityDays < 10 && ShowAlert == 1) {

            $('.alreadyexpired').hide();


            ShowAlertSession();



        }
        else if (UserValidityDays == 0 && ShowAlert == 1) {

            $('.beforeexpire').hide();

            ShowAlertSession();
        }


        function ShowAlertSession(commandtype) {

            $.ajax({
                type: 'POST',
                url: '@Url.Action("ShowAlertSession", "Sales")',
                dataType: 'json',
                async: true,
                data: { CommandType: commandtype },
                success: function (response) {

                    if (response.Success == "1") {

                    }
                    else if (response.Success == "2") {
                        toastr.warning(response.ex);
                    }

                },
                error: function (ex) {
                    alert('Failed.' + ex);
                }

            });
        }




        $(window).bind('keydown', function (event) {
            if (event.ctrlKey || event.metaKey) {
                switch (String.fromCharCode(event.which).toLowerCase()) {
                    case shortcutkey:
                        event.preventDefault();

                        SomeAction('cntrlq');
                        //}
                        //else
                        //{
                        //    alert('changecompany');
                        //    alert(VatViewActivate);
                        //    Change_Company();
                        //}
                        return;
                        break;
                    //case 'd':
                    //event.preventDefault();
                    //SomeAction("cntrlu");
                    //return;
                    //break;


                }
            }
        });


        function SomeAction(commandtype) {

            $.ajax({
                type: 'POST',
                url: '@Url.Action("SomeAction", "Sales")',
                dataType: 'json',
                async: true,
                data: { CommandType: commandtype },
                success: function (response) {

                    if (response.Success == "1") {
                        //toastr.success(response.ex);
                        //if (VatViewActivate == 1)
                        //{
                        location.reload(true);
                        //}
                    }
                    else if (response.Success == "2") {
                        toastr.warning(response.ex);
                    }

                },
                error: function (ex) {
                    alert('Failed.' + ex);
                }

            });
        }




        $("#company").change(function () {
            Change_Company();
        });

        $("#company").select2();


        var comid22;
        function Change_Company() {
            comid22 = $("#company").val();
            var comName = $("#company option:selected").text();
            //alert(SalesId);
            $.ajax({

                url: '@Url.Action("ChangeSelectedCompany", "Home")',
                data: { ComId: comid22 }, //use id here
                type: 'GET',
                async: true,
                contentType: 'application/json;',
                dataType: 'json',
                success: function (result) {
                    //toastr.success(`Company Changed to ${comName} Successfully`);
                    //$('#company option[value=' + comid + ']').attr('selected', true);
                    if (result.success == 1) {
                        toastr.success(`Company Changed to ${comName} Successfully`);
                        $(".toast-success").css({ "background-color": "green", "color": "white" });
                        //window.location.href = '@Url.Action("Index", "Admin")';
                        location.reload(true);
                        document.getElementById('company').value = comid22;
                        //$('#company option[value=' + comid + ']').attr('selected', true).change();

                    }

                },
                error: function (result) {
                    if (result.error == 0) {
                        toastr.error(`Unable to Chnage Company to ${comName}`);
                        $(".toast-error").css({ "background-color": "red", "color": "white" });
                    }


                }
            });
        };






        $(document).ready(function () {
            $("#filter").keyup(function () {

                // Retrieve the input field text and reset the count to zero
                var filter = $(this).val(), count = 0;

                // Loop through the comment list
                $("#menulistnav ul li").each(function () {

                    var id = $(this).attr('id');
                    //alert(id);
                    // If the list item does not contain the text phrase fade it out
                    if ($(this).text().search(new RegExp(filter, "i")) < 0 && id != "searchbox") {


                        //alert( this.id );

                        //alert($(this).text());
                        //alert($(this).id);
                        //if ($(this).id != "#searchbox")
                        //{
                        $(this).fadeOut();

                        //}


                        // Show the list item if the phrase matches and increase the count by 1
                    } else {
                        $(this).show();
                        count++;
                    }
                });

                // Update the count
                //var numberItems = count-1;
                //$("#filter-count").text("  Search Count = " + numberItems);
                // $("#searchbox").show()

            });
        });



        //customFile(@Html.Raw(Json.Serialize(TempData["Status"])), @Html.Raw(Json.Serialize(TempData["Message"])));


        $(':button.spinnerclass').click(function () {
            //alert('alert hit button save spinner');
            if ($(this).children().hasClass('d-none')) {
                $(this).children().removeClass('d-none');
                $(this).prop("disabled", true);
            }

        });


        function StartSpinner(id) {

            //$('body').prop("disabled", true);

            if ($(id).children().hasClass('d-none')) {
                $(id).children().removeClass('d-none');
                $(id).prop("disabled", true);

            }
            //alert('alert hit stop spinner');
        }


        function StopSpinner(id) {

            if (!$(id).children().hasClass('d-none')) {
                $(id).children().addClass('d-none');
                $(id).prop("disabled", false);

            }
            //alert('alert hit stop spinner');
        }

        $(document).ready(function () {

            $("input[type='text']").click(function () {
                $(this).select();
            });


            $(".navbar-toggler").on('click', function (event) {

                //alert('hit');
                $('body').toggleClass('mini-sidebar');
                //(... rest of your JS code)
            });



            function capitalize(str) {

                str = str.toLowerCase().replace(/\b[a-z]/g, function (letter) {
                    return letter.toUpperCase();
                });
                //alert(str); //Displays "Hello World"
                return str;
            }

            var IsFirstLetterUpperCase = '@HttpContextAccessor.HttpContext.Session.GetInt32("IsFirstLetterUpperCase").ToString()';
            $("input[type=text]").keyup(function () {
                //$(this).val($(this).val().toUpperCase());

                if (IsFirstLetterUpperCase == 1) {
                    $(this).val(capitalize($(this).val()));
                }
            });

        });






        //date range picker


        var TimeZoneJquery = '@HttpContextAccessor.HttpContext.Session.GetString("TimeZoneSettingsNameJquery").ToString()';
        //console.log('test');

        let timeZone = TimeZoneJquery;
        if (timeZone == '') {
            timeZone = 'Asia/Dhaka';
        }
        //alert(TimeZoneJquery);
        //console.log(timeZone);
        //let timeZone = 'Asia/Dubai';
        let date = new Date;
        var strTime = date.toLocaleString("en-US", { timeZone: `${timeZone}` });
        //console.log('Asia/Dubai', strTime);
        console.log(strTime)


        var datepicker_date_format = "mm/dd/YY";
        var moment_date_format = "MM/DD/YY";
        var moment_time_format = "HH:mm";



        var start = new Date(strTime).toLocaleDateString('en-US');//.startOf('month');
        console.log(start);
        var end = new Date(strTime).toLocaleDateString('en-US');//.endOf('month');
        var label = '';



        $('#daterange-btn').daterangepicker({
            //locale: {
            //    format: 'DDMMMYY'
            //},
            "locale": {
                format: 'DD-MMM-YY',
                //separator: " ~ ",
                applyLabel: "Apply",
                cancelLabel: "Cancel",
                fromLabel: "From",
                toLabel: "To",
                //"customRangeLabel": "Custom",
                //"weekLabel": "W",
                //"daysOfWeek": [
                //    "Su",
                //    "Mo",
                //    "Tu",
                //    "We",
                //    "Th",
                //    "Fr",
                //    "Sa"
                //],
                //"monthNames": [
                //    "January",
                //    "February",
                //    "March",
                //    "April",
                //    "May",
                //    "June",
                //    "July",
                //    "August",
                //    "September",
                //    "October",
                //    "November",
                //    "December"
                //],
                "firstDay": 1
            },
            //stickyMonths: true,

            startOfWeek: 'saturday',
            //separator: ' ~ ',
            //autoClose: false,
            showDropdowns: true,
            autoUpdateInput: true,
            //startDate = moment().subtract(20, 'days');
            startDate: moment(start),
            endDate: moment(end),
            ranges: {
                //'Select':[moment('@ViewBag.FromDate'), moment('@ViewBag.ToDate')],
                'Today': [moment(start), moment(start)],
                'Yesterday': [moment(start).subtract(1, 'days'), moment(start).subtract(1, 'days')],
                'Last 7 Days': [moment().subtract(6, 'days'), moment()],
                'Last 30 Days': [moment().subtract(29, 'days'), moment()],
                'This Month': [moment().startOf('month'), moment().endOf('month')],
                'Last Month': [moment().subtract(1, 'month').startOf('month'), moment().subtract(1, 'month').endOf('month')],
                'This Year': [moment().startOf('year'), moment().endOf('year')],
                'Last Year': [moment().subtract(1, 'year').startOf('year'), moment().subtract(1, 'year').endOf('year')],
                //'2 Year': [moment().subtract(2, 'year').startOf('year'), moment().subtract(0, 'year').endOf('year')],
                //'5 Year': [moment().subtract(5, 'year').startOf('year'), moment().subtract(0, 'year').endOf('year')],
                '10 Year': [moment().subtract(10, 'year').startOf('year'), moment().subtract(0, 'year').endOf('year')],
            }
        },
            function (start, end, label) {
                //alert('test');
                if (isDate(start)) {
                    // $('#daterange-btn span').html(start.format('DDMMMYY') + ' - ' + end.format('DDMMMYY'));

                    // $('#daterange-btn').attr('value', start.format('DDMMMYY') + ' - ' + end.format('DDMMMYY'))
                    $('#daterange-btn').val(start.format('DD-MMM-YY') + ' - ' + end.format('DD-MMM-YY'))

                    //alert('hit');

                    $('#FromDate').val(start.format('DD-MMM-YY'));
                    $('#ToDate').val(end.format('DD-MMM-YY'));
                    //alert($('#FromDate').val());
                    //alert($('#ToDate').val());
                }
            });

        $('#daterange-btn').change(function () {
            //alert('test');
            //consolelog('Fahad daterange btn');
            //moment(start);

            let start = moment();
            $('#daterange-btn').val(start.format('DD-MMM-YY') + ' - ' + start.format('DD-MMM-YY'))

            $('#FromDate').val(start.format('DD-MMM-YY'));
            $('#ToDate').val(start.format('DD-MMM-YY'));

            //alert('Date range button changed');

        });

        $('#daterange-btn').on('change', function (ev, picker) {
            $('#daterange-btn').val(start.format('DDMMMYY') + ' - ' + end.format('DDMMMYY'))
        });


        $('#btnInc').click(function (e) {
            IncDecMonth('Inc')
        })

        $('#btnDec').click(function (e) {
            IncDecMonth('Dec')
        })

        function isDate(val) {
            //var d = new Date(val);
            //return !isNaN(d.valueOf());
            var d = Date.parse(val);
            //console.log(d);
            return Date.parse(val);
        }

        function IncDecMonth(Action) {
            if (!isDate(start)) {
                start = moment().startOf('month');
                $('#daterange-btn').val(start.format('DD-MMM-YY') + ' - ' + start.format('DD-MMM-YY'))
                $('#FromDate').val(start.format('DD-MMM-YY'));
                $('#ToDate').val(start.format('DD-MMM-YY'));
                console.log(start);
            }
            if (Action == 'Inc') {
                start = moment(start).add(1, 'month').startOf('month');
                end = moment(start).endOf('month');

                $('#FromDate').val(start.format('DD-MMM-YY'));
                $('#ToDate').val(end.format('DD-MMM-YY'));
                console.log(end);
            }
            else if (Action == 'Current') {

                var valfromdate = '@ViewBag.FromDate';
                var valtodate = '@ViewBag.ToDate';
                //console.log(valfromdate);
                //console.log(valtodate);

                $('#FromDate').val(valfromdate);
                $('#ToDate').val(valtodate);

                //var timeAndDate = moment(date + ' ' + time);
                //console. log(timeAndDate);

                start = moment(valfromdate);
                end = moment(valtodate);

            }
            else {
                start = moment(start).subtract(1, 'month').startOf('month');
                end = moment(start).endOf('month');

                $('#FromDate').val(start.format('DD-MMM-YY'));
                $('#ToDate').val(end.format('DD-MMM-YY'));
                console.log(end);
            }
            if (isDate(start)) {
                //$('#daterange-btn span').html(start.format('DDMMMYY') + ' - ' + end.format('DDMMMYY'));
                $('#daterange-btn').val(start.format('DD-MMM-YY') + ' - ' + end.format('DD-MMM-YY'))
                console.log('aabbcc');
                $('#FromDate').val(valfromdate);
                $('#ToDate').val(valtodate);


            }
            //console.log('start=' + start)
            //console.log('end=' + end)

            //$('#FromDate').val(start.format('DDMMMYY'));
            //$('#ToDate').val(end.format('DDMMMYY'));

            //alert($('#FromDate').val());
            //alert($('#ToDate').val());

        }

        IncDecMonth('Current');
        var currencyformat = '@(Context.Session.GetString("defaultcurrencyname").ToString() == "N/A" ? "BDT" : Context.Session.GetString("defaultcurrencyname").ToString())';
        function CurrencyFormat(amount) {
            const formatter = new Intl.NumberFormat('en-US', {
                style: 'currency',
                currency: currencyformat,
                currencyDisplay: 'symbol'// Change the currency code as needed
            });
            return formatter.format(amount);
        }




        getFormData();
        function getFormData() {
            $.ajax({
                type: "get",
                url: '@Url.Action("GetDataForCustomFormStyle", "Admin")',
                success: function (res) {
                    var response = res.data;
                    $("#ComName").text(response.Table[0].StoreName);

                },
                error: function (err) {
                    console.error("Error fetching data:", err);
                }
            });

        }

        $("select").on("select2:open", function () {
            console.log($(`[aria-controls="select2-${this.id}-results"]`));
            // When Select2 dropdown is opened
            $(`[aria-controls="select2-${this.id}-results"]`)[0].focus(); // Focus on the input field
        });

    </script>

    <style>
        .tabulator-row .tabulator-cell {
            border: 0.1px solid #f8f9fa;
        }

        .tabulator-footer .tabulator-row .tabulator-cell {
            border: none;
        }

        .tabulator .tabulator-footer .tabulator-calcs-holder {
            border-bottom: none;
            border-top: none;
        }

        .tabulator-row.tabulator-selectable:hover {
            background-color: #f1f1f1;
            cursor: pointer;
        }
    </style>
</body>

</html>