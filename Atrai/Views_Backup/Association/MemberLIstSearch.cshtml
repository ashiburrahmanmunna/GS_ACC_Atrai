@model IEnumerable<Atrai.Core.Entity.MemberModel>
@{ ViewData["Title"] = "Market List";
    Layout = "~/Views/Shared/_adminLayout.cshtml"; }

<style>

    .tbllist th:first-child, .tbllist tbody td:first-child {
        position: sticky !important;
        left: 0px;
        background-color: #f2f2f2e6;
        z-index: 1;
    }

    .tbllist tfoot td:first-child {
        position: sticky;
        left: 0px;
        z-index: 1;
    }


    .tbllist th:last-child, .tbllist tbody td:last-child {
        position: sticky !important;
        right: 0px;
        background-color: #f2f2f2e6;
        z-index: 1;
    }

    .tbllist tfoot td:last-child {
        position: sticky;
        right: 0px;
        z-index: 1;
    }
</style>
<div class="page-wrapper">
    <div class="container-fluid">

        <div class="text-center">
            <div class="row">

                <div class="col">

                </div>

            </div>
        </div>


        <div class="card p-2 table-responsive">
            <table id="tbllist" class="table table-striped table-bordered  table-hover" cellspacing="0" width="100%">
                <thead class="text-nowrap">
                    <tr>
                        <th>
                            @Html.DisplayNameFor(model => model.Id)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.MemberType)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.MembersNameEng)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.MembersNameBng)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.FathersNameEng)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.FathersNameBng)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.ShopNameEng)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.ShopNameBng)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.DOB)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.BloodGroup)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.Mobile)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.MarketName)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.BusinessAddressEng)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.BusinessAddressBng)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.isActive)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.MemberStatus)
                        </th>
                        <th>
                            Image
                        </th>

                    </tr>
                </thead>

                <tbody class="text-nowrap" style="text-align:left;">

                    @foreach (var item in Model)
                    {
                        <tr>
                            <td>
                                @Html.DisplayFor(modelItem => item.Id)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.MemberType)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.MembersNameEng)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.MembersNameBng)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.FathersNameEng)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.FathersNameBng)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.ShopNameEng)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.ShopNameBng)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.DOB)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.BloodGroup)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Mobile)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.MarketName)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.BusinessAddressEng)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.BusinessAddressBng)
                            </td>
                            <td>
                                @if (item.isActive)
                                {
                                    <text>Yes</text>
                                }
                                else
                                {
                                    <text>No</text>
                                }

                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.MemberStatus)
                            </td>
                            <td>
                                <img src="..@item.MemberImagePath" alt="img" id="UploadFile" class="img-thumbnail" /> <br />
                            </td>

                            @*<td>
                                    <a href="@Url.Action("Print", "EmployeeList", new { Id = item.Id, type="excel" })"
                                       target="_blank"
                                       class="far fa-file-pdf btn btn-success btn-xs">
                                    </a>
                                </td>*@

                        </tr>
                    }

                </tbody>


            </table>
            <br />
        </div>
    </div>
</div>
@section Scripts{
    <script>
        $(document).ready(function () {
            $('#tbllist thead tr').clone(true).appendTo('#tbllist thead');
            $('#tbllist thead:last tr:eq(0) th').each(function (i) {
                var title = $(this).text().trim();
                $(this).html('<input type="text" class="form-control"   placeholder="' + title + '" />');

                $('input', this).on('keyup change', function () {
                    if (table.column(i).search() !== this.value) {
                        table
                            .column(i)
                            .search(this.value)
                            .draw();
                    }
                });
            });

            var table = $('#tbllist').DataTable({
                dom: '<"dom_wrapper fh-fixedHeader"flB>tip',
                //"sDom": "<'row'<'col-sm-12'<'form-group'<f>>>>tr<'row'<'col-sm-12'<'pull-left'i><'pull-right'p><'clearfix'>>>",
                //buttons: [
                //    'copy', 'csv', 'excel', 'pdf'
                //],
                buttons: {
                    dom: {
                        button: {
                            className: 'btn rounded-0'
                        }
                    },
                    buttons: [
                        //'copy', 'csv', 'excel', 'pdf'
                        //$(this).addClass("btn-group dt-buttons justify-content-center mb-3")
                        //{
                        //    extend: 'colvis',
                        //    "columns": ':not(:last-child)',
                        //    text: '<i class="mdi mdi-view-column"></i>',
                        //    className: 'btn-info',
                        //    titleAttr: 'Show / hide columns',
                        //    //collectionLayout: 'fixed two-column'

                        //},
                        {
                            extend: 'excel',
                            text: '<i class="mdi mdi-file-excel"></i>',
                            className: 'btn-success',
                            titleAttr: 'Export to excel',
                            exportOptions: {
                                columns: ':visible',
                                rows: ':visible'
                            }
                        }

                    ]
                },
                "searching": true,
                "ordering": false,
                "info": true,
                "iDisplayLength": 5,
                "lengthMenu": [[5, 15, 20, 50, -1], [5, 15, 20, 50, "All"]],
                //"scrollX": true,
                //"scrollY": "60vh",
                language: {
                    sLengthMenu: "_MENU_",
                    search: "",
                    searchPlaceholder: "Search..."
                },
                dom: 'Blfrtip'
            });
        });

                                                //$(".search_input").addClass('form-control input-lg col-xs-12');

    </script>
}



