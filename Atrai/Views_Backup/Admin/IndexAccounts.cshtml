@model Atrai.Core.ViewModel.DashboardViewModel
@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_adminLayout.cshtml";
    int i = 1;
    int ii = 1;
    int iii = 1;
    int iiii = 1;

}
<style>
    .p-15 {
        /*padding: 10px 13px 10px 13px !important;*/
        padding: 8px 10px 7px 8px !important;


    }

    .card-dashboard p {
        font-size: 12px;
        /*    font-family: arial narrow;*/
    }

    .media p {
        font-size: 13px;
        font-family: "Arial Narrow";
    }

    .media {
        font-size: 15px;
        font-family: "Arial Narrow";
        text-align: right;
        padding-bottom: 2px !important;
    }

    a {
        color: #0a275ec9;
    }

    tbody tr td {
        /*font-family:"Arial Narrow";*/
        font-size: 11px;
    }

    .table-sm td, .table-sm th {
        padding: 0.1rem;
    }

    label {
        display: inline-block;
        margin-bottom: 0.0rem !important;
    }
</style>

<div class="page-wrapper">
    <!-- Bread crumb -->
    <div class="row page-titles">
        <div class="col-md-5 align-self-center">
            <div class="row" >
                <div class="mx-2 mt-2">
                    <h5 class="text-primary">Dashboard</h5>
                </div>
                <div class="text-center mx-1">
          @*          <a class="card p-1" href="@Url.Action("AddSaleBySerialSearch", "Sales")"> 
                          <span><i class="fa fa-cubes fontshadow text-primary"></i><small class="">Sales</small></span>
                    </a>*@
                    <a href="@Url.Action("AddSaleBySerialSearch", "Sales")" class="card p-1"><i class="ti-layout-accordion-list  fontshadow text-primary"></i> <small class="">Sales</small></a>

                    @*<a href="@Url.Action("AddSaleBySerialSearch", "Sales")">SalesTest</a>*@



                </div>
                <div class="text-center mx-1">
                    <a href="@Url.Action("PostDocument", "Admin")" class="card p-1"><i class="fa fa-check text-info"></i> <small class="">Post</small></a>
                </div>
                <div class="text-center mx-1">
                    <a href="@Url.Action("TransactionList", "Admin")" class="card p-1"><i class="ti-bookmark-alt text-info"></i> <small class="">Transaction</small></a>
                </div>
                <div class="text-center mx-1">
                    <a href="@Url.Action("SummaryView", "Admin")" class="card p-1"><i class="fa fa-tachometer text-primary"></i> <small class="">Summary</small></a>
                </div>
            </div>



        </div>
        <div class="col-md-7 align-self-center">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="javascript:void(0)">Home</a></li>
                <li class="breadcrumb-item active">Dashboard</li>
                @*<li class="breadcrumb-item">
                <div class="text-center mx-1">
                    <a href="@Url.Action("SummaryView", "Admin")" class="card p-1"><i class="ti-bookmark-alt text-info"></i> <small class="">Summary</small></a>
                </div>
                </li>*@

            </ol>
        </div>
    </div>
    <!-- End Bread crumb -->
    <!-- Container fluid  -->
    <div class="container-fluid ">
        <!-- Start Page Content -->




        <div class="row ">
            <div class="col-sm-4 col-md-2 col-6 animated slideInUp transition s2">
                <a href="@Url.Action("ProductList", "Admin")">
                    <div class="card-dashboard p-15">
                        <div class="media">
                            <div class="media-left meida media-middle">
                                <span><i class="fa fa-cubes f-s-40 fontshadow color-primary"></i></span>
                            </div>
                            <div class="media-body media-text-right p-1">
                                <h5>@Model.Products</h5>
                            </div>
                        </div>
                        <div class="text-right">
                            <p class="mb-0">Product</p>
                        </div>
                    </div>
                </a>
            </div>
            @*<div class="col-sm-4 col-md-2 col-6 animated slideInUp">
                <div class="card-dashboard p-15">
                <div class="media">
                <div class="media-left meida media-middle">
                <span><i class="fa fa-shopping-cart f-s-40 fontshadow color-success"></i></span>
                </div>
                <div class="media-body media-text-right p-1">
                <h5>@Model.UnderROL</h5>
                <p class="mb-0">Under ROL</p>
                </div>
                </div>
                </div>
                </div>*@
            <div class="col-sm-4 col-md-2 col-6 animated slideInUp">
                <a href="@Url.Action("Index", "Sales" , new { filter = "Due" })">
                    <div class="card-dashboard p-15">
                        <div class="media">
                            <div class="media-left meida media-middle">
                                <span><i class="fa fa-files-o f-s-40 fontshadow color-danger"></i></span>
                            </div>
                            <div class="media-body media-text-right p-1">
                                <h5 style="color:red">@Model.CustomerDue.ToString("#,##0")</h5>

                            </div>
                        </div>
                        <div class="text-right">
                            <p class="mb-0">Customer Inv. Due</p>
                        </div>
                    </div>
                </a>
            </div>

            <div class="col-sm-4 col-md-2 col-6 animated slideInUp">
                <a href="@Url.Action("SupplierList", "Admin" , new { filter = "Due" })">
                    <div class="card-dashboard p-15">
                        <div class="media">
                            <div class="media-left meida media-middle">
                                <span><i class="fa fa-users f-s-40 fontshadow color-warning"></i></span>
                            </div>
                            <div class="media-body media-text-right p-1">
                                <h5>@Model.Suppliers</h5>
                            </div>
                        </div>
                        <div class="text-right">
                            <p class="mb-0">Suppliers</p>
                        </div>
                    </div>
                </a>

            </div>
            <div class="col-sm-4 col-md-2 col-6 animated slideInUp">
                <a href="@Url.Action("CustomerList", "Admin" , new { filter = "Due" })">
                    <div class="card-dashboard p-15">
                        <div class="media">
                            <div class="media-left meida media-middle">
                                <span><i class="fa fa-user f-s-40 fontshadow color-danger"></i></span>
                            </div>
                            <div class="media-body media-text-right p-1">
                                <h5>@Model.Customers</h5>
                            </div>
                        </div>
                        <div class="text-right">
                            <p class="mb-0">Customers</p>
                        </div>
                    </div>
                </a>
            </div>
            <div class="col-sm-4 col-md-2 col-6 animated slideInUp">
                <a href="@Url.Action("Index", "Sales")">
                    <div class="card-dashboard p-15">
                        <div class="media">
                            <div class="media-left meida media-middle">
                                <span><i class="fa fa-area-chart f-s-40 fontshadow color-success"></i></span>
                            </div>
                            <div class="media-body media-text-right p-1">
                                <h5>@Model.TotalSales.ToString("#,##0")</h5>
                            </div>
                        </div>
                        <div class="text-right">
                            <p class="mb-0">Total Sales</p>
                        </div>
                    </div>
                </a>
            </div>
            <div class="col-sm-4 col-md-2 col-6 animated slideInUp">
                <a href="@Url.Action("Index", "Purchase")">
                    <div class="card-dashboard p-15">
                        <div class="media">
                            <div class="media-left meida media-middle">
                                <span><i class="fa fa-cart-plus f-s-40 fontshadow color-warning"></i></span>
                            </div>
                            <div class="media-body media-text-right p-1">
                                <h5>@Model.TotalPurchase.ToString("#,##0")</h5>
                            </div>
                        </div>
                        <div class="text-right">
                            <p class="mb-0">Total Purchase</p>
                        </div>
                    </div>
                </a>
            </div>
        </div>

        <div class="row">

            <div class="col-sm-4 col-md-2 col-6 animated slideInUp">
                <a href="@Url.Action("Index", "Sales")">
                    <div class="card-dashboard p-15">
                        <div class="media">
                            <div class="media-left meida media-middle">
                                <span><i class="fa fa-bar-chart f-s-40 fontshadow color-primary"></i></span>
                            </div>
                            <div class="media-body media-text-right p-1">
                                <h5>@Model.TotalSaleValue.ToString("#,##0")</h5>
                            </div>
                        </div>
                        <div class="text-right">
                            <p class="mb-0">Total Sales Value</p>
                        </div>
                    </div>
                </a>
            </div>
            <div class="col-sm-4 col-md-2 col-6 animated slideInUp">
                <a href="@Url.Action("Index", "Purchase")">
                    <div class="card-dashboard p-15">
                        <div class="media">
                            <div class="media-left meida media-middle">
                                <span><i class="fa fa-money f-s-40 fontshadow color-danger"></i></span>
                            </div>
                            <div class="media-body media-text-right p-1">
                                <h5>@Model.TotalPurchaseValue.ToString("#,##0")</h5>
                            </div>
                        </div>
                        <div class="text-right">
                            <p class="mb-0">Total Purchase Value</p>
                        </div>
                    </div>
                </a>
            </div>



            <div class="col-sm-4 col-md-2 col-6 animated slideInUp">
                <a href="@Url.Action("SerialProductHistory", "Sales")">
                    <div class="card-dashboard p-15">
                        <div class="media">
                            <div class="media-left meida media-middle">
                                <span><i class="fa fa-barcode f-s-40 fontshadow color-primary"></i></span>
                            </div>
                            <div class="media-body media-text-right p-1">
                                <h5>@Model.TotalSaleableSerial.ToString("#,##0")</h5>
                            </div>
                        </div>
                        <div class="text-right">
                            <p class="mb-0">IMEI Stock</p>
                        </div>
                    </div>
                </a>
            </div>


            <div class="col-sm-4 col-md-2 col-6 animated slideInUp">
                <a href="@Url.Action("SerialProductHistory", "Sales")">
                    <div class="card-dashboard p-15">
                        <div class="media">
                            <div class="media-left meida media-middle">
                                <span><i class="fa fa-usd f-s-40 fontshadow color-primary"></i></span>
                            </div>
                            <div class="media-body media-text-right p-1">
                                <h5>@Model.TotalSerialSold.ToString("#,##0")</h5>
                            </div>
                        </div>
                        <div class="text-right">
                            <p class="mb-0">IMEI Sold</p>
                        </div>
                    </div>
                </a>
            </div>

            <div class="col-sm-4 col-md-2 col-6 animated slideInUp">
                <a href="@Url.Action("TransactionList", "Admin")">
                    <div class="card-dashboard p-15">
                        <div class="media">
                            <div class="media-left meida media-middle">
                                <span><i class="fa fa-archive f-s-40 fontshadow color-warning"></i></span>
                            </div>
                            <div class="media-body media-text-right p-1">
                                <h5>@Model.TotalReceive.ToString("#,##0")</h5>
                            </div>
                        </div>
                        <div class="text-right">
                            <p class="mb-0">Total Receive</p>
                        </div>
                    </div>
                </a>
            </div>
            <div class="col-sm-4 col-md-2 col-6 animated slideInUp">
                <a href="@Url.Action("TransactionList", "Admin")">
                    <div class="card-dashboard p-15">
                        <div class="media">
                            <div class="media-left meida media-middle">
                                <span><i class="fa fa-user f-s-40 fontshadow color-danger"></i></span>
                            </div>
                            <div class="media-body media-text-right p-1">
                                <h5>@Model.TotalPayment.ToString("#,##0")</h5>
                            </div>
                        </div>
                        <div class="text-right">
                            <p class="mb-0">Total Payment</p>
                        </div>
                    </div>
                </a>
            </div>
        </div>


        <div class="row">
            <div class="col-sm-4 col-md-2 col-6 animated slideInUp">
                <a href="@Url.Action("AccountHeadList", "Admin")">
                    <div class="card-dashboard p-15">
                        <div class="media">
                            <div class="media-left meida media-middle">
                                <span><i class="fa fa-sitemap f-s-40 fontshadow color-success"></i></span>
                            </div>
                            <div class="media-body media-text-right p-1">
                                <h5>@Model.Accounts</h5>

                            </div>
                        </div>
                        <div class="text-right">
                            <p class="mb-0">Accounts Head</p>
                        </div>
                    </div>
                </a>
            </div>
            @*<div class="col-sm-4 col-md-2 col-6 animated slideInUp">
                <a href="@Url.Action("AccountHeadList", "Admin")">
                <div class="card-dashboard p-15">
                <div class="media">
                <div class="media-left meida media-middle">
                <span><i class="fa fa-usd f-s-40 fontshadow color-primary"></i></span>
                </div>
                <div class="media-body media-text-right p-1">
                <h5>@Model.ReceiveHead</h5>
                <p class="mb-0">Total Income Head</p>
                </div>
                </div>
                </div>
                </a>
                </div>*@
            @*            <div class="col-sm-4 col-md-2 col-6 animated slideInUp">
                <a href="@Url.Action("AccountHeadList", "Admin")">

                <div class="card-dashboard p-15">
                <div class="media">
                <div class="media-left meida media-middle">
                <span><i class="fa fa-file-text f-s-40 fontshadow color-warning"></i></span>
                </div>
                <div class="media-body media-text-right p-1">
                <h5>@Model.PaymentHead</h5>

                </div>
                </div>
                <div class="text-right">
                <p class="mb-0">Expense Head</p>
                </div>
                </div>
                </a>
                </div>*@

            <div class="col-sm-4 col-md-2 col-6 animated slideInUp">
                <a href="@Url.Action("ProductList", "Admin")">

                    <div class="card-dashboard p-15">
                        <div class="media">
                            <div class="media-left meida media-middle">
                                <span><i class="fa fa-file-text f-s-40 fontshadow color-warning"></i></span>
                            </div>
                            <div class="media-body media-text-right p-0">
                                <h5 class="mb-0">@Model.StockQty.GetValueOrDefault().ToString("#,##0") Pcs</h5>
                                <p class="mb-0">@Model.StockValue.GetValueOrDefault().ToString("#,##0") Tk</p>
                            </div>
                        </div>
                        <div class="text-right">
                            <p class="mb-0">Stock Qty</p>
                        </div>
                    </div>
                </a>
            </div>


            <div class="col-sm-4 col-md-2 col-6 animated slideInUp">
                <a href="@Url.Action("Index", "Purchase" , new { filter = "Due" })">
                    <div class="card-dashboard p-15">
                        <div class="media">
                            <div class="media-left meida media-middle">
                                <span><i class="fa fa-handshake-o f-s-40 fontshadow color-success"></i></span>
                            </div>
                            <div class="media-body media-text-right p-1">
                                <h5 style="color:red">@Model.SupplierDue.ToString("#,##0")</h5>

                            </div>
                        </div>
                        <div class="text-right">
                            <p class="mb-0">Supplier PO Due</p>
                        </div>
                    </div>
                </a>
            </div>




            @*<div class="col-sm-4 col-md-2 col-6 animated slideInUp">
                <a href="@Url.Action("AccountHeadList", "Admin")">
                <div class="card-dashboard p-15">
                <div class="media">
                <div class="media-left meida media-middle">
                <span><i class="fa fa-user f-s-40 fontshadow color-danger"></i></span>
                </div>
                <div class="media-body media-text-right p-1">
                <h5>@Model.CashBankHead</h5>
                <p class="mb-0">Total Cash Bank</p>
                </div>
                </div>
                </div>
                </a>
                </div>*@
            @*<div class="col-sm-4 col-md-2 col-6 animated slideInUp">
                <a href="@Url.Action("PostDocument", "Admin")">

                <div class="card-dashboard p-15">
                <div class="media">
                <div class="media-left meida media-middle">
                <span><i class="fa fa-shopping-cart f-s-40 fontshadow color-success"></i></span>
                </div>
                <div class="media-body media-text-right p-1">
                <h5>@Model.Post</h5>
                <p class="mb-0">Total Posted</p>
                </div>
                </div>
                </div>
                </a>
                </div>*@


            <div class="col-sm-4 col-md-2 col-6 animated slideInUp">
                <a href="@Url.Action("PostDocument", "Admin")">

                    <div class="card-dashboard p-15">
                        <div class="media">
                            <div class="media-left meida media-middle">
                                <span><i class="fa fa-clipboard f-s-40 fontshadow color-primary"></i></span>
                            </div>
                            <div class="media-body media-text-right p-1">
                                <h5>@Model.UnPost</h5>
                            </div>
                        </div>
                        <div class="text-right">
                            <p class="mb-0">Total UnPost</p>
                        </div>
                    </div>
                </a>
            </div>


            <div class="col-sm-4 col-md-2 col-6 animated slideInUp">
                <a href="@Url.Action("SupplierList", "Admin" , new { filter = "Due" })">
                    <div class="card-dashboard p-15">
                        <div class="media">
                            <div class="media-left meida media-middle">
                                <span><i class="fa fa-user-secret f-s-40 fontshadow color-info"></i></span>
                            </div>
                            <div class="media-body media-text-right p-1">
                                <h5 style="color:red">@Model.SupplierLedgerDue.ToString("#,##0")</h5>

                            </div>
                        </div>
                        <div class="text-right">
                            <p class="mb-0">Supplier Ledger Due</p>
                        </div>
                    </div>
                </a>
            </div>


            <div class="col-sm-4 col-md-2 col-6 animated slideInUp">
                <a href="@Url.Action("CustomerList", "Admin" , new { filter = "Due" })">
                    <div class="card-dashboard p-15">
                        <div class="media">
                            <div class="media-left meida media-middle">
                                <span><i class="fa fa-shopping-cart f-s-40 fontshadow color-success"></i></span>
                            </div>
                            <div class="media-body media-text-right p-1">
                                <h5 style="color:red">@Model.CustomerLedgerDue.ToString("#,##0")</h5>

                            </div>
                        </div>
                        <div class="text-right">
                            <p class="mb-0">Customer Ledger Due</p>
                        </div>
                    </div>
                </a>
            </div>

        </div>


        <div class="row">
            <div class="col-sm-4 col-md-2 col-6 animated slideInUp">
                <a href="@Url.Action("ProductList", "Admin")">
                    <div class="card-dashboard p-15">
                        <div class="media">
                            <div class="media-left meida media-middle">
                                <span><i class="fa fa-plus-square f-s-40 fontshadow color-info"></i></span>
                            </div>
                            <div class="media-body media-text-right p-1">
                                <h5>@Model.CurrMonthAddedProduct.ToString("#,##0")</h5>

                            </div>
                        </div>
                        <div class="text-right">
                            <p class="mb-0">Newly Added Product</p>
                        </div>
                    </div>
                </a>

            </div>

            <div class="col-sm-4 col-md-2 col-6 animated slideInUp">
                <a href="@Url.Action("AddTransaction", "Admin", new { filter = "Paid" })">

                    <div class="card-dashboard p-15">
                        <div class="media">
                            <div class="media-left meida media-middle">
                                <span><i class="fa fa-calendar f-s-40 fontshadow color-warning"></i></span>
                            </div>
                            <div class="media-body media-text-right p-1">
                                <h5>@Model.CurrMonthPayment.ToString("#,##0")</h5>

                            </div>
                        </div>
                        <div class="text-right">
                            <p class="mb-0">Curr. Month Payment</p>
                        </div>
                    </div>
                </a>
            </div>

            <div class="col-sm-4 col-md-2 col-6 animated slideInUp">
                <a href="@Url.Action("AddTransaction", "Admin" , new { filter = "Paid" })">
                    <div class="card-dashboard p-15">
                        <div class="media">
                            <div class="media-left meida media-middle">
                                <span><i class="fa fa-money f-s-40 fontshadow color-primary"></i></span>
                            </div>
                            <div class="media-body media-text-right p-1">
                                <h5 style="color:red">@Model.PrevMonthPayment.ToString("#,##0")</h5>
                            </div>
                        </div>
                        <div class="text-right">
                            <p class="mb-0">Prev. Month Payment</p>
                        </div>
                    </div>
                </a>
            </div>




            <div class="col-sm-4 col-md-2 col-6 animated slideInUp">
                <a href="@Url.Action("AddTransaction", "Admin" , new { filter = "Rcvd." })">

                    <div class="card-dashboard p-15">
                        <div class="media">
                            <div class="media-left meida media-middle">
                                <span><i class="fa fa-usd f-s-40 fontshadow color-primary"></i></span>
                            </div>
                            <div class="media-body media-text-right p-1">
                                <h5>@Model.CurrMonthReceive.ToString("#,##0")</h5>
                            </div>
                        </div>
                        <div class="text-right">
                            <p class="mb-0">Curr. Month Rcvd.</p>
                        </div>
                    </div>
                </a>
            </div>


            <div class="col-sm-4 col-md-2 col-6 animated slideInUp">
                <a href="@Url.Action("AddTransaction", "Admin" , new { filter = "Rcvd." })">
                    <div class="card-dashboard p-15">
                        <div class="media">
                            <div class="media-left meida media-middle">
                                <span><i class="fa fa-shopping-cart f-s-40 fontshadow color-primary"></i></span>
                            </div>
                            <div class="media-body media-text-right p-1">
                                <h5 style="color:red">@Model.PrevMonthReceive.ToString("#,##0")</h5>
                            </div>
                        </div>
                        <div class="text-right">
                            <p class="mb-0">Prev. Month Rcvd.</p>
                        </div>
                    </div>
                </a>
            </div>


            <div class="col-sm-4 col-md-2 col-6 animated slideInUp">
                <a href="@Url.Action("AddSaleBySerialSearch", "Sales" )">
                    <div class="card-dashboard p-15">
                        <div class="media">
                            <div class="media-left meida media-middle">
                                <span><i class="fa fa-calendar-check-o f-s-40 fontshadow color-info"></i></span>
                            </div>
                            <div class="media-body media-text-right p-1">
                                <h5 style="color:red">@Model.CurrMonthSalesValue.ToString("#,##0")</h5>
                            </div>
                        </div>
                        <div class="text-right">
                            <p class="mb-0">Curr. Month Sales</p>
                        </div>
                    </div>
                </a>
            </div>

        </div>

        <div class="row p-1">
            <div class="col-md-4 col-12">
                <canvas id="myPieChart"></canvas>
            </div>
            <div class="col-md-8 col-12">
                <canvas id="myChart"></canvas>
            </div>

        </div>

        <div class="row py-1">
            <div class="col">
                <div class="card-dashboard">
                    <div class="card-header text-center p-1 bg-primary">
                        <h6>Five Recent Sales </h6>
                    </div>
                    <div class="card-body p-0">
                        <div class="table-responsive">
                            <table class="table table-sm table-bordered table-striped">
                                <thead>
                                    <tr>
                                        <th>#</th>
                                        <th>Code</th>
                                        <th>Customer</th>
                                        <th>Date</th>
                                        <th>Grand Total</th>
                                        <th>Status</th>
                                        @*<th> Print</th>*@
                                    </tr>
                                </thead>
                                <tbody>
                                    @foreach (var item in Model.LastFiveSales)
                                    {
                                        <tr>
                                            <td>@i</td>
                                            <td>@item.SaleCode</td>
                                            <td>@(item.CustomerName == null || item.CustomerName == "" ? item.CustomerModel.Name : item.CustomerName) </td>
                                            <td>@(String.Format("{0:dd/MM/yyyy}", item.SalesDate))</td>
                                            <td>@item.GrandTotal</td>
                                            <td>
                                                @if (item.SalesPayments.Sum(x => x.Amount) < item.NetAmount)
                                                {
                                                    <label class="label label-danger">Due</label>
                                                }
                                                else
                                                {
                                                    <label class="label label-success">Paid</label>
                                                }
                                            </td>
                                            @*<td>
                                                <a href="@Url.Action("SaleInvoice","Sales", new {saleId = item.Id,style=1})" title="Invoice 1" class="btn btn-icon btn-primary btn-sm rounded-0 mb-1"><i class="fa fa-print"> </i> </a>

                                                <a href="@Url.Action("SaleInvoice","Sales", new {saleId = item.Id,style=2})" title="Invoice 2" class="btn btn-icon btn-primary btn-sm rounded-0 mb-1"><i class="fa fa-print"> </i> </a>
                                                </td>*@
                                        </tr>
                                        i++;
                                    }


                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="card-dashboard">
                    <div class="card-header text-center p-1 bg-info">
                        <h6>Five Recent Purchase </h6>
                    </div>
                    <div class="card-body p-0">
                        <div class="table-responsive">
                            <table class="table  table-sm table-bordered table-striped">
                                <thead>
                                    <tr>
                                        <th>#</th>
                                        <th>Code</th>
                                        <th>Supplier</th>
                                        <th>Date</th>
                                        <th>Grand Total</th>
                                        <th>Status</th>
                                        @*<th>Print</th>*@
                                    </tr>
                                </thead>
                                <tbody>
                                    @foreach (var item in Model.LastFivePurchase)
                                    {
                                        <tr>
                                            <td>@ii</td>
                                            <td>@item.PurchaseCode</td>
                                            <td>@(item.SupplierName == null || item.SupplierName == "" ? item.SupplierModel.SupplierName : item.SupplierName) </td>
                                            <td>@(String.Format("{0:dd/MM/yyyy}", item.PurchaseDate))</td>
                                            <td>@item.GrandTotal</td>
                                            <td>
                                                @if (item.PurchasePayments.Sum(x => x.Amount) < item.NetAmount)
                                                {
                                                    <label class="label label-danger">Due</label>
                                                }
                                                else
                                                {
                                                    <label class="label label-success">Paid</label>
                                                }
                                            </td>
                                            @*<td>
                                                <a href="@Url.Action("SaleInvoice","Sales", new {purchaseId = item.Id,style=1})" title="Invoice 1" class="btn btn-icon btn-primary btn-sm rounded-0 mb-1"><i class="fa fa-print"> </i> </a>

                                                <a href="@Url.Action("SaleInvoice","Sales", new {purchaseId = item.Id,style=2})" title="Invoice 2" class="btn btn-icon btn-primary btn-sm rounded-0 mb-1"><i class="fa fa-print"> </i> </a>
                                                </td>*@
                                        </tr>
                                        ii++;
                                    }


                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row py-1">
            <div class="col">
                <div class="card-dashboard">
                    <div class="card-header text-center p-1 bg-success text-white">
                        <h6>Five Recent Receive </h6>
                    </div>
                    <div class="card-body p-0">
                        <div class="table-responsive">
                            <table class="table table-sm table-bordered table-striped">
                                <thead>
                                    <tr>
                                        <th>#</th>
                                        <th>Code</th>
                                        <th>Account</th>
                                        <th>Date</th>
                                        <th>Amount</th>
                                        <th>Posted</th>

                                    </tr>
                                </thead>
                                <tbody>
                                    @foreach (var item in Model.LastFiveReceive)
                                    {
                                        <tr>
                                            <td>@iii</td>
                                            <td>@item.TransactionCode</td>
                                            <td>
                                                @*@(!String.IsNullOrEmpty(@item.Account))*@
                                                @(item.Account == null ? "" : item.Account.AccName)
                                                @(item.AccountPayType == null ? "" : item.AccountPayType.AccName)
                                                @*@item.Account ?? @item.AccountPayType.AccName : @item.Account.AccName*@

                                            </td>
                                            <td>@(String.Format("{0:dd/MM/yyyy}", item.InputDate))</td>
                                            <td>@item.TransactionAmount</td>
                                            <td>
                                                @if (item.isPost == false)
                                                {
                                                    <label class="label label-danger">Not Posted</label>
                                                }
                                                else
                                                {
                                                    <label class="label label-success">Posted</label>
                                                }
                                            </td>

                                        </tr>
                                        iii++;
                                    }
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="card-dashboard">
                    <div class="card-header text-center p-1 bg-warning">
                        <h6>Five Recent Payments </h6>
                    </div>
                    <div class="card-body p-0">
                        <div class="table-responsive">
                            <table class="table  table-sm table-bordered table-striped">
                                <thead>
                                    <tr>
                                        <th>#</th>
                                        <th>Code</th>
                                        <th>Account</th>
                                        <th>Date</th>
                                        <th>Amount</th>
                                        <th>Posted</th>

                                    </tr>
                                </thead>
                                <tbody>

                                    @foreach (var item in Model.LastFivePayments)
                                    {
                                        <tr>
                                            <td>@iiii</td>
                                            <td>@item.TransactionCode</td>
                                            <td>
                                                @(item.Account == null ? "" : item.Account.AccName)
                                                @(item.AccountPayType == null ? "" : item.AccountPayType.AccName)
                                            </td>
                                            <td>@(String.Format("{0:dd/MM/yyyy}", item.InputDate))</td>
                                            <td>@item.TransactionAmount</td>
                                            <td>
                                                @if (item.isPost == false)
                                                {
                                                    <label class="label label-warning">Not Posted</label>
                                                }
                                                else
                                                {
                                                    <label class="label label-success">Posted</label>
                                                }
                                            </td>

                                        </tr>
                                        iiii++;
                                    }
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>




    <br />


</div>








@*<script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3"></script>*@

<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.1/chart.min.js" integrity="sha512-QSkVNOCYLtj73J4hbmVoOV6KVZuMluZlioC+trLpewV8qMjsWqlIQvkn1KGX2StWvPMdWGBqim1xlC8krl1EKQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>



<script>

      var dashboardData =@Html.Raw(@Json.Serialize(ViewBag.DashboardData));

      //var dashboardData = ViewBag.DashboardData;


          var monthlysaleslabel = [];
          var monthlysalesdata = [];

           for (var i = 0; i < dashboardData.MonthlySales.length; i++) {
              monthlysaleslabel.push(dashboardData.MonthlySales[i].MonthName);
              monthlysalesdata.push(dashboardData.MonthlySales[i].TotalSales);

          }

    const ctx = document.getElementById('myChart').getContext('2d');
    const myChart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: monthlysaleslabel,
            datasets: [{
                label: 'Monthly Sales',
                data: monthlysalesdata,
                backgroundColor: [
                    'rgba(255, 99, 132, 0.2)',
                    'rgba(54, 162, 235, 0.2)',
                    'rgba(255, 206, 86, 0.2)',
                    'rgba(75, 192, 192, 0.2)',
                    'rgba(153, 102, 255, 0.2)',
                    'rgba(255, 159, 64, 0.2)',
                    'rgba(153, 216, 88, 0.2)',
                    'rgba(153, 169, 99, 0.2)',
                    'rgba(153, 189, 77, 0.2)',
                    'rgba(153, 142, 131, 0.2)',
                    'rgba(153, 112, 255, 0.2)',
                    'rgba(153, 245, 75, 0.2)'
                ],
                borderColor: [
                    'rgba(255, 99, 132, 1)',
                    'rgba(54, 162, 235, 1)',
                    'rgba(255, 206, 86, 1)',
                    'rgba(75, 192, 192, 1)',
                    'rgba(153, 102, 255, 1)',
                    'rgba(255, 159, 64, 1)',
                    'rgba(255, 216, 88, 1)',
                    'rgba(255, 169, 99, 1)',
                    'rgba(255, 189, 77, 1)',
                    'rgba(255, 142, 131, 1)',
                    'rgba(255, 112, 255, 1)',
                    'rgba(255, 245, 75, 1)'
                ],
                borderWidth: 1
            }]
        },
        options: {
            scales: {
                y: {
                    beginAtZero: true
                }
            }
        }
    });





        var categorysaleslabel = [];
        var categorysalesdata = [];

        for (var i = 0; i < dashboardData.CategoryWiseSales.length; i++) {
            categorysaleslabel.push(dashboardData.CategoryWiseSales[i].CategoryName);
            categorysalesdata.push(dashboardData.CategoryWiseSales[i].TotalSales);

        }

      var mychart = document.getElementById("myPieChart").getContext('2d');
      let round_graph = new Chart(mychart, {
        type: 'doughnut',
        data: {
          labels: categorysaleslabel,
          datasets: [{
            //lable: 'Category Wise Sales',
            data: categorysalesdata ,
            backgroundColor: ['#4e73df', '#1cc88a', '#36b9cc','#fd7e14', '#6610f2', '#9yb9cc', '#28a745','#ffc107','#7a55b6','#5971bb'],
            hoverBackgroundColor: ['#2e59d9', '#17a673', '#2c9faf','#36c8cc', '#5tb9cc', '#9yb9cc', '#7ib9cc', '#7ib9cc', '#7ib9cc', '#7ib9cc'],
            hoverBorderColor: "rgba(234, 236, 244, 1)",
          }]
        },
        options: {
        responsive: true,
        plugins: {
          legend: {
            position: 'right',
          },
          title: {
            display: true,
            text: 'Category Wise Sales'
          }
        }
      }
      })







</script>