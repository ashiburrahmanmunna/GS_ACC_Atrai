@using Microsoft.AspNetCore.Http
@inject IHttpContextAccessor HttpContextAccessor
@Html.AntiForgeryToken()
@using Atrai.Core.Entity;
@using Atrai.Core.Common;




@if (@HttpContextAccessor.HttpContext.Session == null)
{
    @Url.Action("Login", "Home")
    ;
}
@{
    string weburl = HttpContextAccessor.HttpContext.Session.GetString("weburl");// ViewBag.weburl;

    var comimagepath = @HttpContextAccessor.HttpContext.Session.GetString("comImagePath");
    var empimagepath = @HttpContextAccessor.HttpContext.Session.GetString("EmpImagePath");
    var UserRole = @HttpContextAccessor.HttpContext.Session.GetString("UserRole");

}
@*@{ string UserRoleId = @HttpContextAccessor.HttpContext.Session.GetString("UserRoleId").ToString();
    }*@
<!DOCTYPE html>
<html lang="en" class="minimal-theme">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" href="~/Admin_theme_gtr/assets/images/favicon-32x32.png" type="image/png" />
    <!--plugins-->
    <link href="~/Admin_theme_gtr/assets/plugins/simplebar/css/simplebar.css" rel="stylesheet" />
      <link href="~/Admin_theme_gtr/assets/plugins/datetimepicker/css/classic.css" rel="stylesheet" />
	<link href="~/Admin_theme_gtr/assets/plugins/datetimepicker/css/classic.time.css" rel="stylesheet" />
    <link href="~/Admin_theme_gtr/assets/plugins/datetimepicker/css/classic.date.css" rel="stylesheet" />
@*	<link rel="stylesheet" href="assets/plugins/bootstrap-material-datetimepicker/css/bootstrap-material-datetimepicker.min.css">*@
    <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/bootstrap.daterangepicker/2/daterangepicker.css" />
    <link href="~/Admin_theme_gtr/assets/plugins/perfect-scrollbar/css/perfect-scrollbar.css" rel="stylesheet" />
    <link href="~/Admin_theme_gtr/assets/plugins/vectormap/jquery-jvectormap-2.0.2.css" rel="stylesheet" />


      
    <!-- Bootstrap CSS -->
   @* <link href="~/Admin_theme_gtr/assets/css/bootstrap.min.css" rel="stylesheet" />*@
   <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" />
     <link href="~/Admin_theme_gtr/assets/plugins/datatable/css/dataTables.bootstrap5.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" />
    <link href="https://cdn.datatables.net/select/1.4.0/css/select.dataTables.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/select2-bootstrap-5-theme@1.3.0/dist/select2-bootstrap-5-theme.min.css" />
    <link href="~/Admin_theme_gtr/assets/css/bootstrap-extended.css" rel="stylesheet" />


 
    <link href="https://cdn.datatables.net/rowreorder/1.2.8/css/rowReorder.dataTables.min.csss" rel="stylesheet" />
    <link href="https://cdn.datatables.net/responsive/2.3.0/css/responsive.dataTables.min.css" rel="stylesheet" />
    <link href="https://cdn.datatables.net/responsive/2.3.0/css/responsive.bootstrap5.min.css" rel="stylesheet" />
    <link href="https://cdn.datatables.net/buttons/2.2.3/css/buttons.bootstrap5.min.css" rel="stylesheet" />
  
    <link href="~/Admin_theme_gtr/assets/css/style.css" rel="stylesheet" />
    <link href="~/Admin_theme_gtr/assets/css/icons.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">

    <!-- loader-->
    <link href="~/Admin_theme_gtr/assets/css/pace.min.css" rel="stylesheet" />


    <!--Theme Styles-->
    <link href="~/Admin_theme_gtr/assets/css/dark-theme.css" rel="stylesheet" />
    <link href="~/Admin_theme_gtr/assets/css/light-theme.css" rel="stylesheet" />
    <link href="~/Admin_theme_gtr/assets/css/semi-dark.css" rel="stylesheet" />
    <link href="~/Admin_theme_gtr/assets/css/header-colors.css" rel="stylesheet" />

    <title>Atrai Admin Dashboard</title>

    @if (HttpContextAccessor.HttpContext.Session.GetString("AppsName") == null)
    {
        <title>@ViewBag.Title - Invoice Made Easy</title>
    }
    else
    {
        <title>@ViewBag.Title - @HttpContextAccessor.HttpContext.Session.GetString("AppsName")</title>
    }

    @if (weburl.ToLower().Contains("w2u.io"))
    {

        <!-- Meta Pixel Code -->
        <script>
            !function (f, b, e, v, n, t, s) {
                if (f.fbq) return; n = f.fbq = function () {
                    n.callMethod ?
                        n.callMethod.apply(n, arguments) : n.queue.push(arguments)
                };
                if (!f._fbq) f._fbq = n; n.push = n; n.loaded = !0; n.version = '2.0';
                n.queue = []; t = b.createElement(e); t.async = !0;
                t.src = v; s = b.getElementsByTagName(e)[0];
                s.parentNode.insertBefore(t, s)
            }(window, document, 'script',
                'https://connect.facebook.net/en_US/fbevents.js');
            fbq('init', '200487558922107');
            fbq('track', 'PageView');
        </script>
        <noscript>
            <img height="1" width="1" style="display:none" src="https://www.facebook.com/tr?id=200487558922107&ev=PageView&noscript=1" />
        </noscript>
        <!-- End Meta Pixel Code -->
    }


</head>
<body>


    <!--start wrapper-->
    <div class="wrapper">
        <!--start top header-->
        <header class="top-header">
            <nav class="navbar navbar-expand">
                <div class="mobile-toggle-icon d-xl-none">
                    <i class="bi bi-list"></i>
                </div>
                <div class="top-navbar d-none d-xl-block">
                    <ul class="navbar-nav align-items-center">
                        <li class="nav-item">
                            <a class="nav-link" href="index.html">Dashboard</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="app-emailbox.html">Email</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="javascript:;">Projects</a>
                        </li>
                        <li class="nav-item d-none d-xxl-block">
                            <a class="nav-link" href="javascript:;">Events</a>
                        </li>
                        <li class="nav-item d-none d-xxl-block">
                            <a class="nav-link" href="app-to-do.html">Todo</a>
                        </li>
                    </ul>
                </div>
                <div class="search-toggle-icon d-xl-none ms-auto">
                    <i class="bi bi-search"></i>
                </div>
                <form class="searchbar d-none d-xl-flex ms-auto">
                    <div class="position-absolute top-50 translate-middle-y search-icon ms-3"><i class="bi bi-search"></i></div>
                    <input class="form-control" type="text" placeholder="Type here to search">
                    <div class="position-absolute top-50 translate-middle-y d-block d-xl-none search-close-icon"><i class="bi bi-x-lg"></i></div>
                </form>
                <div class="top-navbar-right ms-3">
                    <ul class="navbar-nav align-items-center">
                        <li class="nav-item dropdown dropdown-large">
                            
                        @if (User.Identity.IsAuthenticated == true)
                            {
                                @if (HttpContextAccessor.HttpContext.Session.GetInt32("IsMobile") != 1)
                                {
                                    <a class="nav-link dropdown-toggle dropdown-toggle-nocaret" href="#" data-bs-toggle="dropdown">
                                        <div class="user-setting d-flex align-items-center gap-1">
                                             @if (empimagepath != null && empimagepath != "")
                        {
                                            <img src="..@empimagepath" class="user-img" alt="">
                        }
                        else{
                             <img src="~/Admin_theme_gtr/assets/images/avatars/avatar-1.png" class="user-img" alt="">
                        }
                                            <div class="user-name d-none d-sm-block" href="@Url.Action("UserProfile", "Admin")"> @User.Identity.Name </div>
                                        </div>
                                    </a>
                                    <ul class="dropdown-menu dropdown-menu-end">
                                        <li>
                                            <a class="dropdown-item" href="#">
                                                <div class="d-flex align-items-center">
                                                    @if (empimagepath != null && empimagepath != "")
                        {
                                            <img src="..@empimagepath"  class="rounded-circle" width="60" height="60" alt="">
                        }
                        else{
                                                        <img src="~/Admin_theme_gtr/assets/images/avatars/avatar-1.png" alt="" class="rounded-circle" width="60" height="60">
                        }
                                                    <div class="ms-3">
                                                        <h6 class="mb-0 dropdown-user-name" href="@Url.Action("UserProfile", "Admin")">@User.Identity.Name</h6>
                                                        <small class="mb-0 dropdown-user-designation text-secondary">***HR Manager</small>
                                                    </div>
                                                </div>
                                            </a>
                                        </li>
                                        <li><hr class="dropdown-divider"></li>
                                        <li>
                                            <a class="dropdown-item" href="@Url.Action("UserProfile", "Admin")">
                                                <div class="d-flex align-items-center">
                                                    <div class="setting-icon"><i class="bi bi-person-fill"></i></div>
                                                    <div class="setting-text ms-3"><span>Profile</span></div>
                                                </div>
                                            </a>
                                        </li>
                                        <li>
                                            <a class="dropdown-item" href="@Url.Action("PurchasePackage", "License")">
                                                <div class="d-flex align-items-center">
                                                    <div class="setting-icon"><i class="bi bi-speedometer"></i></div>
                                                    <div class="setting-text ms-3"><span>Purchase Package</span></div>
                                                </div>
                                            </a>
                                        </li>
                                                                   @if (!weburl.ToLower().Contains("w2u.io") && (UserRole.Contains("Admin")))
                        {
                                        <li>
                   
                                            <a class="dropdown-item" href="@Url.Action("Settings", "Admin")">
                                                <div class="d-flex align-items-center">
                      
                                                    <div class="setting-icon"><i class="bi bi-gear-fill"></i></div>
                                                    <div class="setting-text ms-3"><span>Settings</span></div>
                    
                                                </div>
                                            </a>
                                 
                                        </li>
                                           }
                                        <li><hr class="dropdown-divider"></li>
                                        <li>
                                            <a class="dropdown-item" href="@Url.Action("Logout", "Home")">
                                                <div class="d-flex align-items-center">
                                                    <div class="setting-icon"><i class="bi bi-lock-fill"></i></div>
                                                    <div class="setting-text ms-3"><span>Logout</span></div>
                                                </div>
                                            </a>
                                        </li>
                                    </ul>
                                }
                            }
                        </li>
                        <li class="nav-item dropdown dropdown-large">
                            <a class="nav-link dropdown-toggle dropdown-toggle-nocaret" href="#" data-bs-toggle="dropdown">
                                <div class="projects">
                                    <i class="bi bi-grid-3x3-gap-fill"></i>
                                </div>
                            </a>
                            <div class="dropdown-menu dropdown-menu-end">
                                <div class="row row-cols-3 gx-2">
                                    <div class="col">
                                        <a href="ecommerce-orders.html">
                                            <div class="apps p-2 radius-10 text-center">
                                                <div class="apps-icon-box mb-1 text-white bg-primary bg-gradient">
                                                    <i class="bi bi-cart-plus-fill"></i>
                                                </div>
                                                <p class="mb-0 apps-name">Orders</p>
                                            </div>
                                        </a>
                                    </div>
                                    <div class="col">
                                        <a href="javascript:;">
                                            <div class="apps p-2 radius-10 text-center">
                                                <div class="apps-icon-box mb-1 text-white bg-danger bg-gradient">
                                                    <i class="bi bi-people-fill"></i>
                                                </div>
                                                <p class="mb-0 apps-name">Users</p>
                                            </div>
                                        </a>
                                    </div>
                                    <div class="col">
                                        <a href="ecommerce-products-grid.html">
                                            <div class="apps p-2 radius-10 text-center">
                                                <div class="apps-icon-box mb-1 text-white bg-success bg-gradient">
                                                    <i class="bi bi-bank2"></i>
                                                </div>
                                                <p class="mb-0 apps-name">Products</p>
                                            </div>
                                        </a>
                                    </div>
                                    <div class="col">
                                        <a href="component-media-object.html">
                                            <div class="apps p-2 radius-10 text-center">
                                                <div class="apps-icon-box mb-1 text-white bg-orange bg-gradient">
                                                    <i class="bi bi-collection-play-fill"></i>
                                                </div>
                                                <p class="mb-0 apps-name">Media</p>
                                            </div>
                                        </a>
                                    </div>
                                    <div class="col">
                                        <a href="pages-user-profile.html">
                                            <div class="apps p-2 radius-10 text-center">
                                                <div class="apps-icon-box mb-1 text-white bg-purple bg-gradient">
                                                    <i class="bi bi-person-circle"></i>
                                                </div>
                                                <p class="mb-0 apps-name">Account</p>
                                            </div>
                                        </a>
                                    </div>
                                    <div class="col">
                                        <a href="javascript:;">
                                            <div class="apps p-2 radius-10 text-center">
                                                <div class="apps-icon-box mb-1 text-dark bg-info bg-gradient">
                                                    <i class="bi bi-file-earmark-text-fill"></i>
                                                </div>
                                                <p class="mb-0 apps-name">Docs</p>
                                            </div>
                                        </a>
                                    </div>
                                    <div class="col">
                                        <a href="ecommerce-orders-detail.html">
                                            <div class="apps p-2 radius-10 text-center">
                                                <div class="apps-icon-box mb-1 text-white bg-pink bg-gradient">
                                                    <i class="bi bi-credit-card-fill"></i>
                                                </div>
                                                <p class="mb-0 apps-name">Payment</p>
                                            </div>
                                        </a>
                                    </div>
                                    <div class="col">
                                        <a href="javascript:;">
                                            <div class="apps p-2 radius-10 text-center">
                                                <div class="apps-icon-box mb-1 text-white bg-bronze bg-gradient">
                                                    <i class="bi bi-calendar-check-fill"></i>
                                                </div>
                                                <p class="mb-0 apps-name">Events</p>
                                            </div>
                                        </a>
                                    </div>
                                    <div class="col">
                                        <a href="javascript:;">
                                            <div class="apps p-2 radius-10 text-center">
                                                <div class="apps-icon-box mb-1 text-dark bg-warning bg-gradient">
                                                    <i class="bi bi-book-half"></i>
                                                </div>
                                                <p class="mb-0 apps-name">Story</p>
                                            </div>
                                        </a>
                                    </div>
                                </div><!--end row-->
                            </div>
                        </li>
                        <li class="nav-item dropdown dropdown-large">
                            <a class="nav-link dropdown-toggle dropdown-toggle-nocaret" href="#" data-bs-toggle="dropdown">
                                <div class="messages">
                                    <span class="notify-badge">5</span>
                                    <i class="bi bi-messenger"></i>
                                </div>
                            </a>
                            <div class="dropdown-menu dropdown-menu-end p-0">
                                <div class="p-2 border-bottom m-2">
                                    <h5 class="h5 mb-0">Messages</h5>
                                </div>
                                <div class="header-message-list p-2">
                                    <div class="dropdown-item bg-light radius-10 mb-1">
                                        <form class="dropdown-searchbar position-relative">
                                            <div class="position-absolute top-50 start-0 translate-middle-y px-3 search-icon"><i class="bi bi-search"></i></div>
                                            <input class="form-control" type="search" placeholder="Search Messages">
                                        </form>
                                    </div>
                                    <a class="dropdown-item" href="#">
                                        <div class="d-flex align-items-center">
                                            <img src="assets/images/avatars/avatar-1.png" alt="" class="rounded-circle" width="52" height="52">
                                            <div class="ms-3 flex-grow-1">
                                                <h6 class="mb-0 dropdown-msg-user">Amelio Joly <span class="msg-time float-end text-secondary">1 m</span></h6>
                                                <small class="mb-0 dropdown-msg-text text-secondary d-flex align-items-center">The standard chunk of lorem...</small>
                                            </div>
                                        </div>
                                    </a>
                                    <a class="dropdown-item" href="#">
                                        <div class="d-flex align-items-center">
                                            <img src="assets/images/avatars/avatar-2.png" alt="" class="rounded-circle" width="52" height="52">
                                            <div class="ms-3 flex-grow-1">
                                                <h6 class="mb-0 dropdown-msg-user">Althea Cabardo <span class="msg-time float-end text-secondary">7 m</span></h6>
                                                <small class="mb-0 dropdown-msg-text text-secondary d-flex align-items-center">Many desktop publishing</small>
                                            </div>
                                        </div>
                                    </a>
                                    <a class="dropdown-item" href="#">
                                        <div class="d-flex align-items-center">
                                            <img src="assets/images/avatars/avatar-3.png" alt="" class="rounded-circle" width="52" height="52">
                                            <div class="ms-3 flex-grow-1">
                                                <h6 class="mb-0 dropdown-msg-user">Katherine Pechon <span class="msg-time float-end text-secondary">2 h</span></h6>
                                                <small class="mb-0 dropdown-msg-text text-secondary d-flex align-items-center">Making this the first true</small>
                                            </div>
                                        </div>
                                    </a>
                                    <a class="dropdown-item" href="#">
                                        <div class="d-flex align-items-center">
                                            <img src="assets/images/avatars/avatar-4.png" alt="" class="rounded-circle" width="52" height="52">
                                            <div class="ms-3 flex-grow-1">
                                                <h6 class="mb-0 dropdown-msg-user">Peter Costanzo <span class="msg-time float-end text-secondary">3 h</span></h6>
                                                <small class="mb-0 dropdown-msg-text text-secondary d-flex align-items-center">It was popularised in the 1960</small>
                                            </div>
                                        </div>
                                    </a>
                                    <a class="dropdown-item" href="#">
                                        <div class="d-flex align-items-center">
                                            <img src="assets/images/avatars/avatar-5.png" alt="" class="rounded-circle" width="52" height="52">
                                            <div class="ms-3 flex-grow-1">
                                                <h6 class="mb-0 dropdown-msg-user">Thomas Wheeler <span class="msg-time float-end text-secondary">1 d</span></h6>
                                                <small class="mb-0 dropdown-msg-text text-secondary d-flex align-items-center">If you are going to use a passage</small>
                                            </div>
                                        </div>
                                    </a>
                                    <a class="dropdown-item" href="#">
                                        <div class="d-flex align-items-center">
                                            <img src="assets/images/avatars/avatar-6.png" alt="" class="rounded-circle" width="52" height="52">
                                            <div class="ms-3 flex-grow-1">
                                                <h6 class="mb-0 dropdown-msg-user">Johnny Seitz <span class="msg-time float-end text-secondary">2 w</span></h6>
                                                <small class="mb-0 dropdown-msg-text text-secondary d-flex align-items-center">All the Lorem Ipsum generators</small>
                                            </div>
                                        </div>
                                    </a>
                                    <a class="dropdown-item" href="#">
                                        <div class="d-flex align-items-center">
                                            <img src="assets/images/avatars/avatar-1.png" alt="" class="rounded-circle" width="52" height="52">
                                            <div class="ms-3 flex-grow-1">
                                                <h6 class="mb-0 dropdown-msg-user">Amelio Joly <span class="msg-time float-end text-secondary">1 m</span></h6>
                                                <small class="mb-0 dropdown-msg-text text-secondary d-flex align-items-center">The standard chunk of lorem...</small>
                                            </div>
                                        </div>
                                    </a>
                                    <a class="dropdown-item" href="#">
                                        <div class="d-flex align-items-center">
                                            <img src="assets/images/avatars/avatar-2.png" alt="" class="rounded-circle" width="52" height="52">
                                            <div class="ms-3 flex-grow-1">
                                                <h6 class="mb-0 dropdown-msg-user">Althea Cabardo <span class="msg-time float-end text-secondary">7 m</span></h6>
                                                <small class="mb-0 dropdown-msg-text text-secondary d-flex align-items-center">Many desktop publishing</small>
                                            </div>
                                        </div>
                                    </a>
                                    <a class="dropdown-item" href="#">
                                        <div class="d-flex align-items-center">
                                            <img src="assets/images/avatars/avatar-3.png" alt="" class="rounded-circle" width="52" height="52">
                                            <div class="ms-3 flex-grow-1">
                                                <h6 class="mb-0 dropdown-msg-user">Katherine Pechon <span class="msg-time float-end text-secondary">2 h</span></h6>
                                                <small class="mb-0 dropdown-msg-text text-secondary d-flex align-items-center">Making this the first true</small>
                                            </div>
                                        </div>
                                    </a>
                                </div>
                                <div class="p-2">
                                    <div><hr class="dropdown-divider"></div>
                                    <a class="dropdown-item" href="#">
                                        <div class="text-center">View All Messages</div>
                                    </a>
                                </div>
                            </div>
                        </li>
                        <li class="nav-item dropdown dropdown-large d-none d-sm-block">
                            <a class="nav-link dropdown-toggle dropdown-toggle-nocaret" href="#" data-bs-toggle="dropdown">
                                <div class="notifications">
                                    <span class="notify-badge">8</span>
                                    <i class="bi bi-bell-fill"></i>
                                </div>
                            </a>
                            <div class="dropdown-menu dropdown-menu-end p-0">
                                <div class="p-2 border-bottom m-2">
                                    <h5 class="h5 mb-0">Notifications</h5>
                                </div>
                                <div class="header-notifications-list p-2">
                                    <div class="dropdown-item bg-light radius-10 mb-1">
                                        <form class="dropdown-searchbar position-relative">
                                            <div class="position-absolute top-50 start-0 translate-middle-y px-3 search-icon"><i class="bi bi-search"></i></div>
                                            <input class="form-control" type="search" placeholder="Search Messages">
                                        </form>
                                    </div>
                                    <a class="dropdown-item" href="#">
                                        <div class="d-flex align-items-center">
                                            <div class="notification-box"><i class="bi bi-basket2-fill"></i></div>
                                            <div class="ms-3 flex-grow-1">
                                                <h6 class="mb-0 dropdown-msg-user">New Orders <span class="msg-time float-end text-secondary">1 m</span></h6>
                                                <small class="mb-0 dropdown-msg-text text-secondary d-flex align-items-center">You have recived new orders</small>
                                            </div>
                                        </div>
                                    </a>
                                    <a class="dropdown-item" href="#">
                                        <div class="d-flex align-items-center">
                                            <div class="notification-box"><i class="bi bi-people-fill"></i></div>
                                            <div class="ms-3 flex-grow-1">
                                                <h6 class="mb-0 dropdown-msg-user">New Customers <span class="msg-time float-end text-secondary">7 m</span></h6>
                                                <small class="mb-0 dropdown-msg-text text-secondary d-flex align-items-center">5 new user registered</small>
                                            </div>
                                        </div>
                                    </a>
                                    <a class="dropdown-item" href="#">
                                        <div class="d-flex align-items-center">
                                            <div class="notification-box"><i class="bi bi-file-earmark-bar-graph-fill"></i></div>
                                            <div class="ms-3 flex-grow-1">
                                                <h6 class="mb-0 dropdown-msg-user">24 PDF File <span class="msg-time float-end text-secondary">2 h</span></h6>
                                                <small class="mb-0 dropdown-msg-text text-secondary d-flex align-items-center">The pdf files generated</small>
                                            </div>
                                        </div>
                                    </a>
                                    <a class="dropdown-item" href="#">
                                        <div class="d-flex align-items-center">
                                            <div class="notification-box"><i class="bi bi-collection-play-fill"></i></div>
                                            <div class="ms-3 flex-grow-1">
                                                <h6 class="mb-0 dropdown-msg-user">Time Response  <span class="msg-time float-end text-secondary">3 h</span></h6>
                                                <small class="mb-0 dropdown-msg-text text-secondary d-flex align-items-center">5.1 min avarage time response</small>
                                            </div>
                                        </div>
                                    </a>
                                    <a class="dropdown-item" href="#">
                                        <div class="d-flex align-items-center">
                                            <div class="notification-box"><i class="bi bi-cursor-fill"></i></div>
                                            <div class="ms-3 flex-grow-1">
                                                <h6 class="mb-0 dropdown-msg-user">New Product Approved  <span class="msg-time float-end text-secondary">1 d</span></h6>
                                                <small class="mb-0 dropdown-msg-text text-secondary d-flex align-items-center">Your new product has approved</small>
                                            </div>
                                        </div>
                                    </a>
                                    <a class="dropdown-item" href="#">
                                        <div class="d-flex align-items-center">
                                            <div class="notification-box"><i class="bi bi-gift-fill"></i></div>
                                            <div class="ms-3 flex-grow-1">
                                                <h6 class="mb-0 dropdown-msg-user">New Comments <span class="msg-time float-end text-secondary">2 w</span></h6>
                                                <small class="mb-0 dropdown-msg-text text-secondary d-flex align-items-center">New customer comments recived</small>
                                            </div>
                                        </div>
                                    </a>
                                    <a class="dropdown-item" href="#">
                                        <div class="d-flex align-items-center">
                                            <div class="notification-box"><i class="bi bi-droplet-fill"></i></div>
                                            <div class="ms-3 flex-grow-1">
                                                <h6 class="mb-0 dropdown-msg-user">New 24 authors<span class="msg-time float-end text-secondary">1 m</span></h6>
                                                <small class="mb-0 dropdown-msg-text text-secondary d-flex align-items-center">24 new authors joined last week</small>
                                            </div>
                                        </div>
                                    </a>
                                    <a class="dropdown-item" href="#">
                                        <div class="d-flex align-items-center">
                                            <div class="notification-box"><i class="bi bi-mic-fill"></i></div>
                                            <div class="ms-3 flex-grow-1">
                                                <h6 class="mb-0 dropdown-msg-user">Your item is shipped <span class="msg-time float-end text-secondary">7 m</span></h6>
                                                <small class="mb-0 dropdown-msg-text text-secondary d-flex align-items-center">Successfully shipped your item</small>
                                            </div>
                                        </div>
                                    </a>
                                    <a class="dropdown-item" href="#">
                                        <div class="d-flex align-items-center">
                                            <div class="notification-box"><i class="bi bi-lightbulb-fill"></i></div>
                                            <div class="ms-3 flex-grow-1">
                                                <h6 class="mb-0 dropdown-msg-user">Defense Alerts <span class="msg-time float-end text-secondary">2 h</span></h6>
                                                <small class="mb-0 dropdown-msg-text text-secondary d-flex align-items-center">45% less alerts last 4 weeks</small>
                                            </div>
                                        </div>
                                    </a>
                                    <a class="dropdown-item" href="#">
                                        <div class="d-flex align-items-center">
                                            <div class="notification-box"><i class="bi bi-bookmark-heart-fill"></i></div>
                                            <div class="ms-3 flex-grow-1">
                                                <h6 class="mb-0 dropdown-msg-user">4 New Sign Up <span class="msg-time float-end text-secondary">2 w</span></h6>
                                                <small class="mb-0 dropdown-msg-text text-secondary d-flex align-items-center">New 4 user registartions</small>
                                            </div>
                                        </div>
                                    </a>
                                    <a class="dropdown-item" href="#">
                                        <div class="d-flex align-items-center">
                                            <div class="notification-box"><i class="bi bi-briefcase-fill"></i></div>
                                            <div class="ms-3 flex-grow-1">
                                                <h6 class="mb-0 dropdown-msg-user">All Documents Uploaded <span class="msg-time float-end text-secondary">1 mo</span></h6>
                                                <small class="mb-0 dropdown-msg-text text-secondary d-flex align-items-center">Sussessfully uploaded all files</small>
                                            </div>
                                        </div>
                                    </a>
                                </div>
                                <div class="p-2">
                                    <div><hr class="dropdown-divider"></div>
                                    <a class="dropdown-item" href="#">
                                        <div class="text-center">View All Notifications</div>
                                    </a>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
            </nav>
        </header>
        <!--end top header-->
        <!--start sidebar -->
        <aside class="sidebar-wrapper">
        @{
                       
                        var AllParentMenu = HttpContextAccessor.HttpContext.Session.GetObject<List<UserMenuPermissionViewModel>>("UserParentMenu");
                       
            
                        
                                    <div class="iconmenu">

                                            <div class="nav-toggle-box">
                                                <div class="nav-toggle-icon"><i class="bi bi-list"></i></div>
                                            </div>
                                            <ul class="nav nav-pills flex-column">

                                             @if (AllParentMenu != null)
                                    {
                                        var filterparentmenu = AllParentMenu.Where(x => x.IsGroup == false).ToList();
                                       foreach (var item in filterparentmenu.OrderBy(x => x.SLNo))
                                       {

                                                    <li class="nav-item" data-bs-toggle="tooltip" data-bs-placement="right" title="@item.MenuName">
                                                        <button class="nav-link" data-bs-toggle="pill" data-bs-target="#abc-@item.Id" type="button"><i class="@item.MenuClass"></i></button>
                                                    </li>
                                       }
                                    }
                                   
                                </ul>
                            </div>
                            <div class="textmenu">
                                <div class="brand-logo">

                                    <a class="" href="#">
                                        @if (@comimagepath != null)
                        {
                                            <img width="38" class="img-circle img-thumbnail" src="..@comimagepath" onerror="this.onerror=null; this.src='.@comimagepath'" alt="" id="main-img">

                        }



                        else
                        {
                                            <img width="10" class="img-circle" src="../Content/ProductImages/0.png" id="main-img">
                        }
                                    </a>



                                    @if (HttpContextAccessor.HttpContext.Session.GetString("AppsName") == null)
                    {
                                        <span class="MenuClass"><span class="shadow" style="color: dimgray;"> Easy  </span> <strong> <span style="color:purple"> POS </span></strong> </span>
                    }
                    else
                    {
                        string[] appsname = HttpContextAccessor.HttpContext.Session.GetString("AppsName").Split(' ');
                        if (appsname.ToList().Count == 2)
                        {
                                            <span class="MenuClass"><span class="shadow" style="color: dimgray;"> @appsname[0]  </span> <strong> <span style="color:purple"> @appsname[1] </span></strong> </span>
                        }
                        else
                        {
                                            <span class="MenuClass"><span class="shadow" style="color: dimgray;"> @HttpContextAccessor.HttpContext.Session.GetString("AppsName")  </span> </span>
                        }

                    }

                                    @*<img src="~/Admin_theme_gtr/assets/images/brand-logo-2.png" width="140" alt=""/>*@
                                </div>
                                <div class="tab-content">
                                   
                                 @{ var AllChildMenu = HttpContextAccessor.HttpContext.Session.GetObject<List<UserMenuPermissionViewModel>>("UserChildMenu");
                            if (AllParentMenu != null)
                                    {
                                        var filterparentmenu = AllParentMenu.Where(x => x.IsGroup == false).ToList();
                                       foreach (var item in filterparentmenu.OrderBy(x => x.SLNo))
                                       {
                                            
                                                                 <div class="tab-pane fade" id="abc-@item.Id">




                                                                    <div class="list-group list-group-flush">
                                                                        <div class="list-group-item">
                                                                            <div class="d-flex w-100 justify-content-between">
                                                                                <h5 class="mb-0">@item.MenuName</h5>
                                                                            </div>
                                                                           <small class="mb-0">Some placeholder content</small>
                                                                        </div>
                                                                        @{var childmenu = AllChildMenu.Where(x => x.ParentId == item.Id).OrderBy(x => x.SLNo).ToList();
                                                                  if (childmenu.Count > 0)
                                                                    {
                                                                                    @foreach (var childitem in childmenu)
                                                                        {
                                                                                                    <a href="@Url.Action(@childitem.ActionName, @childitem.ControllerName)" class="list-group-item"><i class="bi bi-cart-plus @childitem.MenuClass"></i>@childitem.MenuName</a>

                                                                        }
                                                                    }
                                                                        }
                                                                    </div>
                                                                
                                                                    
                                                                    
                                                                    </div>
                                       }
                                    }
                                 }
                                
                                </div>
                            </div>
            }
        </aside>
        <!--start sidebar -->
        <!--start content-->
        <main class="page-content">
            <div>
                @RenderBody()
            </div><!--end body -->






            <footer class="footer" style="color:#0f0e17;">

                <div class="pull-right hidden-xs">
                    Made with <i class="fa fa-heart pulse"></i>
                </div>
                <strong>Copyright &copy; 2022 <a href="https://www.dominatebd.com">Dominatebd</a>.</strong> All rights reserved.
            </footer>
        </main>
        <!--end page main-->
        <!--start overlay-->
        <div class="overlay nav-toggle-icon"></div>
        <!--end overlay-->
        <!--Start Back To Top Button-->
        <a href="javaScript:;" class="back-to-top"><i class='bx bxs-up-arrow-alt'></i></a>
        <!--End Back To Top Button-->
        <!--start switcher-->
        <div class="switcher-body">
            <button class="btn btn-primary btn-switcher shadow-sm" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasScrolling" aria-controls="offcanvasScrolling"><i class="bi bi-paint-bucket me-0"></i></button>
            <div class="offcanvas offcanvas-end shadow border-start-0 p-2" data-bs-scroll="true" data-bs-backdrop="false" tabindex="-1" id="offcanvasScrolling">
                <div class="offcanvas-header border-bottom">
                    <h5 class="offcanvas-title" id="offcanvasScrollingLabel">Theme Customizer</h5>
                    <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas"></button>
                </div>
                <div class="offcanvas-body">
                    <h6 class="mb-0">Theme Variation</h6>
                    <hr>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="inlineRadioOptions" id="LightTheme" value="option1">
                        <label class="form-check-label" for="LightTheme">Light</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="inlineRadioOptions" id="DarkTheme" value="option2">
                        <label class="form-check-label" for="DarkTheme">Dark</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="inlineRadioOptions" id="SemiDarkTheme" value="option3">
                        <label class="form-check-label" for="SemiDarkTheme">Semi Dark</label>
                    </div>
                    <hr>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="inlineRadioOptions" id="MinimalTheme" value="option3" checked>
                        <label class="form-check-label" for="MinimalTheme">Minimal Theme</label>
                    </div>
                    <hr />
                    <h6 class="mb-0">Header Colors</h6>
                    <hr />
                    <div class="header-colors-indigators">
                        <div class="row row-cols-auto g-3">
                            <div class="col">
                                <div class="indigator headercolor1" id="headercolor1"></div>
                            </div>
                            <div class="col">
                                <div class="indigator headercolor2" id="headercolor2"></div>
                            </div>
                            <div class="col">
                                <div class="indigator headercolor3" id="headercolor3"></div>
                            </div>
                            <div class="col">
                                <div class="indigator headercolor4" id="headercolor4"></div>
                            </div>
                            <div class="col">
                                <div class="indigator headercolor5" id="headercolor5"></div>
                            </div>
                            <div class="col">
                                <div class="indigator headercolor6" id="headercolor6"></div>
                            </div>
                            <div class="col">
                                <div class="indigator headercolor7" id="headercolor7"></div>
                            </div>
                            <div class="col">
                                <div class="indigator headercolor8" id="headercolor8"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--end switcher-->

    </div>
    <!--end wrapper-->
        <!-- Bootstrap bundle JS -->
       <script src="~/Admin_theme_gtr/assets/js/bootstrap.bundle.min.js"></script>
      <script src="~/Admin_theme_gtr/assets/js/jquery.min.js"></script>

          <!-- data table intt -->
    <script src="~/Admin_theme_gtr/assets/plugins/datatable/js/jquery.dataTables.min.js"></script>
    <script src="~/Admin_theme_gtr/assets/plugins/datatable/js/dataTables.bootstrap5.min.js"></script>
       <script src="https://cdn.datatables.net/buttons/2.2.3/js/dataTables.buttons.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/2.2.3/js/buttons.bootstrap5.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
    <script src="https://cdn.datatables.net/buttons/2.2.3/js/buttons.html5.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/2.2.3/js/buttons.print.min.js"></script>
<script src="https://cdn.datatables.net/buttons/2.2.3/js/buttons.colVis.min.js"></script>

<script src="~/admin_theme_gtr/assets/plugins/bootstrap-material-datetimepicker/js/moment.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.0/dist/jquery.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>


    <!--plugins-->
    <script src="~/Admin_theme_gtr/assets/plugins/simplebar/js/simplebar.min.js"></script>
    <script src="~/Admin_theme_gtr/assets/plugins/perfect-scrollbar/js/perfect-scrollbar.js"></script>

    <script src="~/Admin_theme_gtr/assets/js/pace.min.js"></script>

      
             <script src="~/Admin_theme_gtr/assets/js/table-datatable.js"></script>
@*    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.0/dist/jquery.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>*@



 

   
    <script src="https://cdn.datatables.net/rowreorder/1.2.8/js/dataTables.rowReorder.min.js"></script>
    <script src="https://cdn.datatables.net/responsive/2.3.0/js/dataTables.responsive.min.js"></script>
    <script src="https://cdn.datatables.net/responsive/2.3.0/js/responsive.bootstrap5.min.js"></script>

       <!-- end data table intt -->
    <script src="~/Admin_theme_gtr/assets/plugins/vectormap/jquery-jvectormap-2.0.2.min.js"></script>
    <script src="~/Admin_theme_gtr/assets/plugins/vectormap/jquery-jvectormap-world-mill-en.js"></script>
    <script src="~/Admin_theme_gtr/assets/plugins/apexcharts-bundle/js/apexcharts.min.js"></script>

    <script src="~/Admin_theme_gtr/assets/plugins/chartjs/chart.min.js"></script>
        <!--date-->
      <script src="~/Admin_theme_gtr/assets/plugins/datetimepicker/js/legacy.js"></script>
  <script src="~/Admin_theme_gtr/assets/plugins/datetimepicker/js/picker.js"></script>
  <script src="~/Admin_theme_gtr/assets/plugins/datetimepicker/js/picker.time.js"></script>
  <script src="~/Admin_theme_gtr/assets/plugins/datetimepicker/js/picker.date.js"></script>
  <script src="~/Admin_theme_gtr/assets/plugins/bootstrap-material-datetimepicker/js/moment.min.js"></script>
  <script src="~/Admin_theme_gtr/assets/plugins/bootstrap-material-datetimepicker/js/bootstrap-material-datetimepicker.min.js"></script>
    <script src="~/Admin_theme_gtr/assets/js/form-date-time-pickes.js"></script>
@*    <script type="text/javascript" src="//cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>
    <script type="text/javascript" src="//cdn.jsdelivr.net/bootstrap.daterangepicker/2/daterangepicker.js"></script>*@

    <!--app-->
    <script src="~/Admin_theme_gtr/assets/js/app.js"></script>
    <script src="~/Admin_theme_gtr/assets/js/index.js"></script>


    <script>
        new PerfectScrollbar(".best-product")
        new PerfectScrollbar(".top-sellers-list")
    </script>

    @RenderSection("scripts", required: false)

    <script type="text/javascript">

        var TimeZoneJquery = '@HttpContextAccessor.HttpContext.Session.GetString("TimeZoneSettingsNameJquery").ToString()';
        //console.log('test');

        let timeZone = TimeZoneJquery;
        console.log(timeZone);
        //let timeZone = 'Asia/Dubai';
        let date = new Date;
        var strTime = date.toLocaleString("en-US", { timeZone: `${timeZone}` });
        //console.log('Asia/Dubai', strTime);
        console.log(strTime)


        var datepicker_date_format = "mm/dd/YY";
        var moment_date_format = "MM/DD/YY";
        var moment_time_format = "HH:mm";



        var start = new Date(strTime).toLocaleDateString('en-US');//.startOf('month');
        console.log(start);
        var end = new Date(strTime).toLocaleDateString('en-US');//.endOf('month');
        var label = '';

        //var options = {
        //  startOfWeek: 'monday',
        //  separator: ' ~ ',
        //  format: 'DD.MM.YY HH:mm',
        //  autoClose: false,
        //  time: {
        //    enabled: true
        //  }
        //};




        // autocompletefunctionGlobal();
        function autocompletefunctionGlobal() {



            var globalsearchabc = "";
            $("#GlobalSearch").autocomplete({
                source: function (request, response) {

                    globalsearchabc = $("#GlobalSearch").val();
                    //var e = jQuery.Event("keydown");
                    //e.keyCode = 50;
                    //$("#GlobalSearch").trigger(e);

                    $.ajax({
                        url: '../admin/GlobalSearch/',
                        dataType: "json",
                        data: {
                            query: $("#GlobalSearch").val()
                        },
                        success: function (data) {
                            console.log(data);
                            response($.map(data, function (item) {

                                return { ItemId: item.IdValue, label: $("#GlobalSearch").val(), fulltext: item.SearchText, EntryDate: item.EntryDate, Figure: item.Figure, ClickableLink: item.ClickableLink, Controller: item.Controller, Action: item.Action, IdValue: item.IdValue };
                            }));
                        },
                        error: function (xhr, status, error) {
                            alert("Error");
                        },
                    });


                },
                response: function (event, ui) {
                },
                autoFocus: true,

                minLength: 3,
                select: function (event, ui) {

                    //console.log(ui.item.ClickableLink);
                    //newrowwithui(ui);
                    window.open(ui.item.ClickableLink, '_blank')

                    //$('#GlobalSearch').val(globalsearchabc);
                    //globalsearchvalue =  $('#GlobalSearch').val();
                    //$('#GlobalSearch').focus();

                    //alert(abcdef);
                    return false;
                }
            }).autocomplete("instance")._renderItem = function (ul, item) {

                var trs = '';
                //console.log(item.ClickableLink);
                //if (item.WarehouseList.length > 0) {

                //trs = '<p class="text-sm-left font-italic" style="font-size:12px"><label class="label label-success"> <a href="https://www.w3schools.com" target="_blank">W3Schools.com!</a> </label> <label class="label label-warning"> <a href="https://www.google.com" target="_blank">google.com!</a> </label> ';
                trs = '<p class="text-sm-left font-italic" style="font-size:12px">';

                //if (item.ClickableLink.lenght > 0)
                //{
                trs += ' Create Date : ' + item.EntryDate + ' ' + item.Figure + ' ';
                //}

                //$.each($(item.WarehouseList), function(key, value) {
                //    // alert('found');
                //    trs += '[ ' + item.WarehouseList[key].WhShortName + ' - ' + item.WarehouseList[key].CurrentStock + ' ]   - Cost :' + item.WarehouseList[key].AverageCosting + '  ';
                //})

                trs += '</p>';
                //}

                return $("<li>")
                    .append("<div class=m-0>" + item.fulltext + trs + "</div>")
                    .appendTo(ul);
            };
        }



        $('#daterange-btn').daterangepicker({
            //locale: {
            //    format: 'DDMMMYY'
            //},
            "locale": {
                format: 'DDMMMYY',
                //separator: " ~ ",
                applyLabel: "Apply",
                cancelLabel: "Cancel",
                fromLabel: "From",
                toLabel: "To",
                //"customRangeLabel": "Custom",
                //"weekLabel": "W",
                //"daysOfWeek": [
                //    "Su",
                //    "Mo",
                //    "Tu",
                //    "We",
                //    "Th",
                //    "Fr",
                //    "Sa"
                //],
                //"monthNames": [
                //    "January",
                //    "February",
                //    "March",
                //    "April",
                //    "May",
                //    "June",
                //    "July",
                //    "August",
                //    "September",
                //    "October",
                //    "November",
                //    "December"
                //],
                "firstDay": 1
            },
            //stickyMonths: true,

            startOfWeek: 'saturday',
            //separator: ' ~ ',
            //autoClose: false,
            showDropdowns: true,
            autoUpdateInput: true,
            //startDate = moment().subtract(20, 'days');
            startDate: moment(start),
            endDate: moment(end),
            ranges: {
                //'Select':[moment('@ViewBag.FromDate'), moment('@ViewBag.ToDate')],
                'Today': [moment(start), moment(start)],
                'Yesterday': [moment(start).subtract(1, 'days'), moment(start).subtract(1, 'days')],
                'Last 7 Days': [moment().subtract(6, 'days'), moment()],
                'Last 30 Days': [moment().subtract(29, 'days'), moment()],
                'This Month': [moment().startOf('month'), moment().endOf('month')],
                'Last Month': [moment().subtract(1, 'month').startOf('month'), moment().subtract(1, 'month').endOf('month')],
                'This Year': [moment().startOf('year'), moment().endOf('year')],
                'Last Year': [moment().subtract(1, 'year').startOf('year'), moment().subtract(1, 'year').endOf('year')],
                //'2 Year': [moment().subtract(2, 'year').startOf('year'), moment().subtract(0, 'year').endOf('year')],
                //'5 Year': [moment().subtract(5, 'year').startOf('year'), moment().subtract(0, 'year').endOf('year')],
                '10 Year': [moment().subtract(10, 'year').startOf('year'), moment().subtract(0, 'year').endOf('year')],
            }
        },
            function (start, end, label) {
                //alert('test');
                if (isDate(start)) {
                    // $('#daterange-btn span').html(start.format('DDMMMYY') + ' - ' + end.format('DDMMMYY'));

                    // $('#daterange-btn').attr('value', start.format('DDMMMYY') + ' - ' + end.format('DDMMMYY'))
                    $('#daterange-btn').val(start.format('DDMMMYY') + ' - ' + end.format('DDMMMYY'))

                    //alert('hit');

                    $('#FromDate').val(start.format('DDMMMYY'));
                    $('#ToDate').val(end.format('DDMMMYY'));
                    //alert($('#FromDate').val());
                    //alert($('#ToDate').val());
                }
            });

        $('#daterange-btn').change(function () {
            //alert('test');
            //moment(start)
            let start = moment();
            $('#daterange-btn').val(start.format('DDMMMYY') + ' - ' + start.format('DDMMMYY'))

            $('#FromDate').val(start.format('DDMMMYY'));
            $('#ToDate').val(start.format('DDMMMYY'));

        });

        //$('#daterange-btn').on('change', function(ev, picker) {
        //    $('#daterange-btn').val( start.format('DDMMMYY') + ' - ' + end.format('DDMMMYY'))
        //});


        $('#btnInc').click(function (e) {
            IncDecMonth('Inc')
        })

        $('#btnDec').click(function (e) {
            IncDecMonth('Dec')
        })

        function isDate(val) {
            //var d = new Date(val);
            //return !isNaN(d.valueOf());
            var d = Date.parse(val);
            //console.log(d);
            return Date.parse(val);
        }

        function IncDecMonth(Action) {
            if (!isDate(start)) {
                start = moment().startOf('month');
                $('#daterange-btn').val(start.format('DDMMMYY') + ' - ' + start.format('DDMMMYY'))
                $('#FromDate').val(start.format('DDMMMYY'));
                $('#ToDate').val(start.format('DDMMMYY'));
                console.log(start);
            }
            if (Action == 'Inc') {
                start = moment(start).add(1, 'month').startOf('month');
                end = moment(start).endOf('month');

                $('#FromDate').val(start.format('DDMMMYY'));
                $('#ToDate').val(end.format('DDMMMYY'));
                console.log(end);
            }
            else if (Action == 'Current') {

                var valfromdate = '@ViewBag.FromDate';
                var valtodate = '@ViewBag.ToDate';
                //console.log(valfromdate);
                //console.log(valtodate);

                $('#FromDate').val(valfromdate);
                $('#ToDate').val(valtodate);

                //var timeAndDate = moment(date + ' ' + time);
                //console. log(timeAndDate);

                start = moment(valfromdate);
                end = moment(valtodate);

            }
            else {
                start = moment(start).subtract(1, 'month').startOf('month');
                end = moment(start).endOf('month');

                $('#FromDate').val(start.format('DDMMMYY'));
                $('#ToDate').val(end.format('DDMMMYY'));
                console.log(end);
            }
            if (isDate(start)) {
                //$('#daterange-btn span').html(start.format('DDMMMYY') + ' - ' + end.format('DDMMMYY'));
                $('#daterange-btn').val(start.format('DDMMMYY') + ' - ' + end.format('DDMMMYY'))
                console.log('aabbcc');
                $('#FromDate').val(valfromdate);
                $('#ToDate').val(valtodate);


            }
            //console.log('start=' + start)
            //console.log('end=' + end)

            //$('#FromDate').val(start.format('DDMMMYY'));
            //$('#ToDate').val(end.format('DDMMMYY'));

            //alert($('#FromDate').val());
            //alert($('#ToDate').val());

        }

        IncDecMonth('Current');

    </script>


    <script type="text/javascript">

        //var showAlert = 1;
        //localStorage.setItem('showAlert', '0');
        var VatViewActivate = '@HttpContextAccessor.HttpContext.Session.GetInt32("IsVatLogin").ToString()';
        var shortcutkey = '@HttpContextAccessor.HttpContext.Session.GetString("ShortCutKey").ToString()';
        var DecimalField = '@HttpContextAccessor.HttpContext.Session.GetInt32("DecimalField").ToString()';
        var UserValidityDays = '@HttpContextAccessor.HttpContext.Session.GetInt32("UserValidityDays").ToString()';
        var ShowAlert = '@HttpContextAccessor.HttpContext.Session.GetInt32("ShowAlert").ToString()';
        //var TimeZoneJquery = '@HttpContextAccessor.HttpContext.Session.GetString("TimeZoneSettingsNameJquery").ToString()';


        //alert(ShowAlert);

        //var showAlert = localStorage.getItem('showAlert');
        //console.log(showAlert);

        if (UserValidityDays > 0 && UserValidityDays < 10 && ShowAlert == 1) {
            $('#myModal').modal('show');
            $('.alreadyexpired').hide();
            //$('#UserValidityDays').val(UserValidityDays);
            //$('#UserValidityDays').text(UserValidityDays);
            document.getElementById("UserValidityDays").innerHTML = UserValidityDays + " Days";

            ShowAlertSession();



        }
        else if (UserValidityDays == 0 && ShowAlert == 1) {
            $('#myModal').modal('show');
            $('.beforeexpire').hide();
            //document.getElementById("UserValidityDays").innerHTML = UserValidityDays + " Days";
            ShowAlertSession();
        }


        function ShowAlertSession(commandtype) {

            $.ajax({
                type: 'POST',
                url: '@Url.Action("ShowAlertSession", "Sales")',
                dataType: 'json',
                async: true,
                data: { CommandType: commandtype },
                success: function (response) {

                    if (response.Success == "1") {
                        //toastr.success(response.ex);
                        //if (VatViewActivate == 1)
                        //{
                        //location.reload(true);
                        //}
                    }
                    else if (response.Success == "2") {
                        toastr.warning(response.ex);
                    }

                },
                error: function (ex) {
                    alert('Failed.' + ex);
                }

            });
        }

        //console.log(DecimalField || 0);
        //alert(VatViewActivate);
        //alert(shortcutkey);



        $(window).bind('keydown', function (event) {
            if (event.ctrlKey || event.metaKey) {
                switch (String.fromCharCode(event.which).toLowerCase()) {
                    case shortcutkey:
                        event.preventDefault();



                        //alert('ctrl-q');
                        //if (VatViewActivate == 1)
                        //{
                        //    alert('someaction');
                        //    alert(VatViewActivate);
                        SomeAction('cntrlq');
                        //}
                        //else
                        //{
                        //    alert('changecompany');
                        //    alert(VatViewActivate);
                        //    Change_Company();
                        //}
                        return;
                        break;
                    //case 'd':
                    //event.preventDefault();
                    //SomeAction("cntrlu");
                    //return;
                    //break;


                }
            }
        });


        function SomeAction(commandtype) {

            $.ajax({
                type: 'POST',
                url: '@Url.Action("SomeAction", "Sales")',
                dataType: 'json',
                async: true,
                data: { CommandType: commandtype },
                success: function (response) {

                    if (response.Success == "1") {
                        //toastr.success(response.ex);
                        //if (VatViewActivate == 1)
                        //{
                        location.reload(true);
                        //}
                    }
                    else if (response.Success == "2") {
                        toastr.warning(response.ex);
                    }

                },
                error: function (ex) {
                    alert('Failed.' + ex);
                }

            });
        }




        $("#company").change(function () {
            Change_Company();
        });

        $("#company").select2();


        var comid22;
        function Change_Company() {
            comid22 = $("#company").val();
            var comName = $("#company option:selected").text();
            //alert(SalesId);
            $.ajax({

                url: '@Url.Action("ChangeSelectedCompany", "Home")',
                data: { ComId: comid22 }, //use id here
                type: 'GET',
                async: true,
                contentType: 'application/json;',
                dataType: 'json',
                success: function (result) {
                    //toastr.success(`Company Changed to ${comName} Successfully`);
                    //$('#company option[value=' + comid + ']').attr('selected', true);
                    if (result.success == 1) {
                        toastr.success(`Company Changed to ${comName} Successfully`);
                        //window.location.href = '@Url.Action("Index", "Admin")';
                        location.reload(true);
                        document.getElementById('company').value = comid22;
                        //$('#company option[value=' + comid + ']').attr('selected', true).change();

                    }

                },
                error: function (result) {
                    if (result.error == 0) {
                        toastr.error(`Unable to Chnage Company to ${comName}`);
                    }


                }
            });
        };



        $(document).ready(function () {
            $("#filter").keyup(function () {

                // Retrieve the input field text and reset the count to zero
                var filter = $(this).val(), count = 0;

                // Loop through the comment list
                $("#menulistnav ul li").each(function () {

                    var id = $(this).attr('id');
                    //alert(id);
                    // If the list item does not contain the text phrase fade it out
                    if ($(this).text().search(new RegExp(filter, "i")) < 0 && id != "searchbox") {


                        //alert( this.id );

                        //alert($(this).text());
                        //alert($(this).id);
                        //if ($(this).id != "#searchbox")
                        //{
                        $(this).fadeOut();

                        //}


                        // Show the list item if the phrase matches and increase the count by 1
                    } else {
                        $(this).show();
                        count++;
                    }
                });

                // Update the count
                //var numberItems = count-1;
                //$("#filter-count").text("  Search Count = " + numberItems);
                // $("#searchbox").show()

            });
        });



        customFile(@Html.Raw(Json.Serialize(TempData["Status"])), @Html.Raw(Json.Serialize(TempData["Message"])));


        $(':button.spinnerclass').click(function () {
            //alert('alert hit button save spinner');
            if ($(this).children().hasClass('d-none')) {
                $(this).children().removeClass('d-none');
                $(this).prop("disabled", true);
            }

        });


        function StartSpinner(id) {

            //$('body').prop("disabled", true);

            if ($(id).children().hasClass('d-none')) {
                $(id).children().removeClass('d-none');
                $(id).prop("disabled", true);

            }
            //alert('alert hit stop spinner');
        }


        function StopSpinner(id) {

            if (!$(id).children().hasClass('d-none')) {
                $(id).children().addClass('d-none');
                $(id).prop("disabled", false);

            }
            //alert('alert hit stop spinner');
        }

        $(document).ready(function () {

            $("input[type='text']").click(function () {
                $(this).select();
            });


            $(".navbar-toggler").on('click', function (event) {

                //alert('hit');
                $('body').toggleClass('mini-sidebar');
                //(... rest of your JS code)
            });



            function capitalize(str) {

                str = str.toLowerCase().replace(/\b[a-z]/g, function (letter) {
                    return letter.toUpperCase();
                });
                //alert(str); //Displays "Hello World"
                return str;
            }

            var IsFirstLetterUpperCase = '@HttpContextAccessor.HttpContext.Session.GetInt32("IsFirstLetterUpperCase").ToString()';
            $("input[type=text]").keyup(function () {
                //$(this).val($(this).val().toUpperCase());

                if (IsFirstLetterUpperCase == 1) {
                    $(this).val(capitalize($(this).val()));
                }
            });

        });




    </script>
</body>

</html>